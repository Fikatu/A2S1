
<!DOCTYPE html>
<html lang="ro">
<head>
  <meta charset="UTF-8">
  <title>MSP</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;500;700&display=swap" rel="stylesheet">
  
  <style>
:root {
      --bg-dark: #0f172a;
      --card-dark: #1e293b;
      /* Po»õi schimba culoarea accentului √Æn func»õie de materie */
      --accent: #2563eb; 
      --accent-glow: #60a5fa;
      --correct: #10b981;
      --wrong: #ef4444;
      --warning: #f59e0b;
      --text-main: #f8fafc;
      --text-muted: #94a3b8;
      --radius: 24px;
    }

    * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

    body {
      margin: 0;
      padding: 0;
      font-family: 'Outfit', sans-serif;
      background-color: var(--bg-dark);
      color: var(--text-main);
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      overflow-x: hidden;
      /* Fundal generic - se poate personaliza per fi»ôier */
      background-image: 
        radial-gradient(circle at 10% 20%, rgba(37, 99, 235, 0.15) 0%, transparent 25%),
        radial-gradient(circle at 90% 80%, rgba(16, 185, 129, 0.1) 0%, transparent 25%);
    }

    /* --- BARA DE SUS (NAVIGARE) --- */
    .top-bar {
      width: 100%;
      max-width: 700px;
      padding: 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      z-index: 10;
      position: relative; /* Esen»õial pentru centrarea sƒÉge»õilor */
    }

    .back-btn {
      background: rgba(255,255,255,0.1);
      border: none;
      color: var(--text-main);
      width: 44px;
      height: 44px;
      border-radius: 12px;
      font-size: 1.2rem;
      cursor: pointer;
      display: grid;
      place-items: center;
      transition: 0.2s;
      text-decoration: none;
    }
    .back-btn:hover { background: rgba(255,255,255,0.2); }

    /* Containerul pentru sƒÉge»õi (Centrat Absolut) */
    .nav-mini-container {
      display: flex;
      gap: 15px;
      position: absolute;
      left: 50%;
      transform: translateX(-50%);
    }

    .btn-nav-mini {
      background: rgba(255, 255, 255, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.15);
      color: var(--text-main);
      width: 44px;
      height: 44px;
      border-radius: 12px;
      cursor: pointer;
      display: grid;
      place-items: center;
      font-size: 1.2rem;
      transition: all 0.2s;
      backdrop-filter: blur(5px);
    }
    .btn-nav-mini:hover {
      background: rgba(255, 255, 255, 0.25);
      transform: scale(1.05);
      border-color: var(--text-main);
    }
    .btn-nav-mini:disabled {
      opacity: 0.3;
      cursor: not-allowed;
      transform: none;
    }

    .streak-container {
      display: flex;
      align-items: center;
      gap: 6px;
      background: rgba(255, 255, 255, 0.1);
      padding: 8px 16px;
      border-radius: 20px;
      font-weight: 700;
      font-size: 0.9rem;
      border: 1px solid rgba(255, 255, 255, 0.2);
    }

    /* --- ZONA DE QUIZ --- */
    .quiz-container {
      width: 100%;
      max-width: 650px;
      flex: 1;
      display: flex;
      flex-direction: column;
      padding: 10px 20px 40px;
      position: relative;
    }

    .timer-wrapper {
      width: 100%;
      height: 6px;
      background: #334155;
      border-radius: 10px;
      margin-bottom: 20px;
      overflow: hidden;
    }
    .timer-bar {
      height: 100%;
      width: 100%;
      background: linear-gradient(90deg, var(--accent), var(--accent-glow));
      border-radius: 10px;
      transform-origin: left;
    }

    .question-card {
      background: var(--card-dark);
      border-radius: var(--radius);
      padding: 30px;
      box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
      border: 1px solid rgba(255,255,255,0.05);
      animation: fadeInScale 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
      margin-bottom: 20px;
    }

    .q-number { color: var(--text-muted); font-size: 0.85rem; text-transform: uppercase; letter-spacing: 1.5px; margin-bottom: 10px; font-weight: 700; }
    .q-text { font-size: 1.25rem; line-height: 1.5; font-weight: 600; margin: 0 0 15px 0; }

    .answers-list { display: flex; flex-direction: column; gap: 12px; }
    
    .answer-option {
      position: relative;
      background: rgba(255,255,255,0.03);
      border: 2px solid rgba(255,255,255,0.08);
      padding: 18px 20px;
      border-radius: 16px;
      cursor: pointer;
      transition: all 0.2s;
      display: flex;
      align-items: flex-start;
      gap: 15px;
      font-size: 1rem;
    }
    .answer-option:hover { background: rgba(255,255,255,0.06); border-color: rgba(255,255,255,0.2); }
    
    .custom-check {
      width: 24px; height: 24px; border: 2px solid var(--text-muted); border-radius: 8px; flex-shrink: 0; display: grid; place-items: center; margin-top: 2px;
    }
    .custom-check::after { content: '‚úî'; font-size: 14px; color: #fff; transform: scale(0); transition: 0.2s; }
    input[type="checkbox"] { display: none; }
    
    input:checked + .custom-check { background: var(--accent); border-color: var(--accent); }
    input:checked + .custom-check::after { transform: scale(1); }
    
    /* StƒÉri speciale pentru rƒÉspunsuri */
    .answer-option.selected { background: rgba(255, 255, 255, 0.1); border-color: var(--accent); }
    
    .answer-option.correct { background: rgba(16, 185, 129, 0.15) !important; border-color: var(--correct) !important; }
    .answer-option.correct .custom-check { background: var(--correct) !important; border-color: var(--correct) !important; }

    .answer-option.wrong { background: rgba(239, 68, 68, 0.15) !important; border-color: var(--wrong) !important; animation: shake 0.4s ease; }
    .answer-option.wrong .custom-check { background: var(--wrong) !important; border-color: var(--wrong) !important; }
    .answer-option.wrong .custom-check::after { content: '‚úñ'; }
    .nav-mini-container {
      display: flex;
      gap: 15px;
      position: absolute;
      left: 50%;
      transform: translateX(-50%);
      z-index: 9999; /* <--- Asta e cheia! Le for»õeazƒÉ sƒÉ fie deasupra tuturor */
      pointer-events: auto; /* Se asigurƒÉ cƒÉ primesc click-uri */
    }
    .top-bar {
      /* ... alte reguli ... */
      position: relative;
      z-index: 1000;
    }

    /* --- CONTROLS (JOS) --- */
    .controls { display: flex; gap: 15px; margin-top: auto; }
    
    .btn { flex: 1; padding: 18px; border-radius: 16px; border: none; font-family: inherit; font-weight: 700; font-size: 1rem; cursor: pointer; text-transform: uppercase; letter-spacing: 1px; transition: 0.2s; }
    
    .btn-primary { background: var(--accent); color: white; box-shadow: 0 4px 0 rgba(0,0,0,0.2); }
    .btn-primary:active { transform: translateY(2px); box-shadow: none; }
    
    .btn-learn { background: rgba(255, 255, 255, 0.05); color: var(--warning); border: 1px solid var(--warning); }
    .btn-secondary { background: transparent; border: 2px solid var(--text-muted); color: var(--text-muted); }

    /* --- REZULTATE --- */
    .result-view { text-align: center; padding: 40px 20px; animation: slideUp 0.5s ease; }
    .score-circle { width: 180px; height: 180px; border-radius: 50%; border: 8px solid var(--card-dark); background: conic-gradient(var(--accent) 0%, var(--card-dark) 0%); margin: 0 auto 30px; display: grid; place-items: center; font-size: 3.5rem; font-weight: 800; position: relative; box-shadow: 0 0 30px rgba(0,0,0,0.3); }
    .score-circle::before { content: ''; position: absolute; inset: 10px; background: var(--bg-dark); border-radius: 50%; z-index: -1; }

    .hidden { display: none !important; }
    @keyframes fadeInScale { from { opacity: 0; transform: scale(0.95); } to { opacity: 1; transform: scale(1); } }
    @keyframes slideUp { from { opacity: 0; transform: translateY(40px); } to { opacity: 1; transform: translateY(0); } }
    @keyframes shake { 0%, 100% { transform: translateX(0); } 25% { transform: translateX(-8px); } 75% { transform: translateX(8px); } }
    
    .confetti { position: fixed; width: 10px; height: 10px; background-color: #f00; animation: fall linear forwards; z-index: 100; }
    @keyframes fall { to { transform: translateY(100vh) rotate(720deg); } }
    /* --- ZONA DE REVIEW (GRE»òELI) --- */
    #review-section {
      width: 100%;
      margin-top: 30px;
      display: none; /* Ascuns ini»õial */
      text-align: left;
    }
    .review-card {
      background: rgba(0, 0, 0, 0.2);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 16px;
      padding: 20px;
      margin-bottom: 20px;
    }
    .review-q-title {
      font-weight: 700;
      margin-bottom: 15px;
      color: var(--text-main);
      font-size: 1.1rem;
    }
    .review-option {
      padding: 10px;
      border-radius: 8px;
      margin-bottom: 8px;
      font-size: 0.95rem;
      display: flex;
      gap: 10px;
      opacity: 0.9;
    }
    /* Culori statice pentru review */
    .review-correct { background: rgba(16, 185, 129, 0.2); border: 1px solid var(--correct); }
    .review-wrong { background: rgba(239, 68, 68, 0.2); border: 1px solid var(--wrong); }
    .review-neutral { background: rgba(255, 255, 255, 0.05); }
  </style>
</head>
<body>

<div class="top-bar">
    <a href="index.html" class="back-btn">‚úï</a>
    <div class="nav-mini-container">
      <button class="btn-nav-mini" id="prev-btn" onclick="prevQuestion()">‚¨ÖÔ∏è</button>
      <button class="btn-nav-mini" id="next-btn" onclick="nextQuestion()">‚û°Ô∏è</button>
    </div>
    <div class="streak-container">
      <span id="streak-icon">üî•</span>
      <span id="streak-count">0</span>
    </div>
  </div>
  </div>

  <div class="quiz-container" id="quiz-container">
    <div class="timer-wrapper"><div class="timer-bar" id="timer-bar"></div></div>

    <div class="question-card" id="question-card">
      <div class="q-number" id="q-number">√éntrebarea 1</div>
      <p class="q-text" id="q-text">Se √ÆncarcƒÉ...</p>
      <div class="answers-list" id="answers-list"></div>
    </div>

    <div class="controls">
      <button class="btn btn-learn" id="learn-btn" onclick="triggerLearnMode()">üëÄ √énva»õƒÉ</button>
      <button class="btn btn-primary" id="action-btn" onclick="handleAction()">VerificƒÉ</button>
    </div>
  </div>

  <script>
    const questions = [
      {
        question: "1. Biroul de Achizitii publice din cadrul Universitatii Tehnice este:",
        answers: [
          "a) un compartiment elementar care se constituie pentru indeplinirea unor lucrari sau activitati omogene si care necesita o activitate distincta;",
          "b) un compartiment organizat distinct;",
          "c) un spatiu ce poate avea cel mult 20 de posturi de munca ocupate;",
          "d) un element component al structurii organizatorice."
        ],
        correct: [0, 1, 3] 
      },
      {
        question: "2. Utilizarea mijloacelor electronice in procesul de comunicare determina o serie de dezavantaje:",
        answers: [
          "a) este posibila numai intre cei care fac parte din retea;",
          "b) poate crea dependenta;",
          "c) se pot scurge informatii confidentiale;",
          "d) au un cost foarte mare fata de alte canale de comunicare."
        ],
        correct: [0, 2]
      },
      {
        question: "3. In anumite situatii, institutiile stabilesc unul sau mai multi purtatori de cuvant pentru relatiile cu presa, datorita:",
        answers: [
          "a) aversiunii sau fricii fata de presa;",
          "b) aspectului fizic sau a starii de moment a sanatatii;",
          "c) absenta unuia dintre ei din tara;",
          "d) lipsei de timp a liderului unei institutii"
        ],
        correct: [0, 1, 2, 3]
      },
      {
        question: "4. Metodele utilizate in adoptarea deciziilor pot fi:",
        answers: [
          "a) de organizare;",
          "b) traditionale;",
          "c) de optimizare;",
          "d) comparative."
        ],
        correct: [1, 2, 3]
      },
      {
        question: "5. Decidentul unei institutii publice este reprezentat de:",
        answers: [
          "a) un manager care adopta o decizie in virtutea obiectivelor competentelor sale;",
          "b) presedintele grupului majoritar din coalitie;",
          "c) un executant care hotaraste modul de actiune a activitatilor zilnice;",
          "d) un organism managerial care, conform responsabilitatilor circumscrise ia decizia in situatia respectiva."
        ],
        correct: [0, 3]
      },
      {
        question: "6. Care dintre urmatoarele caracteristici apartin modelului de comunicare Shannon-Weaver:",
        answers: [
          "a) comunicarea implica o buna coordonare a intelesurilor;",
          "b) comunicarea este folosita in scopuri multiple;",
          "c) comunicarea presupune capacitatea de a anticipa reactiile celorlalti;",
          "d) receptorul percepe mesajul exact in forma si cu continutul dorit de emitator"
        ],
        correct: [3]
      },
      {
        question: "7. Prin imaginea organizationala se distinge un concept complex constituit din urmatoarele elemente:",
        answers: [
          "a) responsabilitate sociala;",
          "b) istoria organizatiei;",
          "c) succesele si stabilitatea organizatiei din punct de vedere financiar;",
          "d) calitatea ofertei sale si reputatia organizatiei."
        ],
        correct: [0, 1, 2, 3]
      },
      {
        question: "8. Managerul public trebuie sa stabileasca in continutul unei decizii:",
        answers: [
          "a) modalitatea practica de actiune;",
          "b) gradul de autonomie manifestat de executanti;",
          "c) obiectivul urmarit;",
          "d) locul si responsabilul aplicarii acesteia."
        ],
        correct: [0, 2, 3]
      },
      {
        question: "9. Orice situatie decizionala presupune in mod obligatoriu:",
        answers: [
          "a) doua sau mai multe alternative de actiune care pot asigura realizarea obictivelor propuse;",
          "b) cunoasterea anticipata a alternativei optime pentru atingerea obiectivelor;",
          "c) cunoasterea calitatilor personale ale decidentilor;",
          "d) unul sau mai multe obiective de atins."
        ],
        correct: [0, 3]
      },
      {
        question: "10. La Institutia Prefectului din Bacau, managementul comunicarii se bazeaza pe planificarea relatiilor publice pe o serie de etape:",
        answers: [
          "a) planificarea, elaborarea mixului de relatii publice, programarea si evaluarea lor;",
          "b) stabilirea obiectivelor generale;",
          "c) formularea strategiilor;",
          "d) identificarea problemei."
        ],
        correct: [0, 1, 2, 3]
      },
      {
        question: "11. Care dintre enunturile de mai jos reprezinta caracteristici importante ale deciziei manageriale:",
        answers: [
          "a) luarea unei decizii presupune o alegere a solutiei din mai multe variante posibile;",
          "b) alegerea uneia dintre variante trebuie sa fie rezultatul unui act constient, deliberat al decidentilor;",
          "c) evenimentele analizate logic se bazeaza pe experienta si intuitie;",
          "d) alegerea unei solutii trebuie sa fie rezultatul unui act spontan."
        ],
        correct: [0, 1, 2]
      },
      {
        question: "12. In organizatiile publice, avantajele utilizarii 'postei' ca un canal de comunicare sunt:",
        answers: [
          "a) mesajele pot fi inregistrate permanent;",
          "b) directia de transmitere a mesajelor este stabilita prin regulament;",
          "c) mesajele sunt consecvente catre toti primitorii;",
          "d) mesajele au un volum excesiv."
        ],
        correct: [0, 2]
      },
      {
        question: "13. Structura organizationala a unei organizatii publice cuprinde urmatoarele componente:",
        answers: [
          "a) planurile decizionale;",
          "b) compartimente cu rol de exprimare a diviziunii muncii in cadrul administratiei locale;",
          "c) autoritatea si responsabilitatea angajatilor;", 
          "d) relatiile ce se stabilesc intre compartimente."
        ],
        correct: [1, 2, 3]
      },
      {
        question: "14. In realizarea planului de relatii publice se pot incadra urmatoarele tipuri de activitati:",
        answers: [
          "a) lobby-ul;",
          "b) organizarea de evenimente publice;",
          "c) discursuri periodice in piete publice;", 
          "d) publicitatea."
        ],
        correct: [0, 1, 3]
      },
      {
        question: "15. Cele mai importante criterii de clasificare ale deciziilor utilizate in management sunt:",
        answers: [
          "a) dupa natura obiectivelor urmarite si orizontul de timp la care se refera;",
          "b) dupa metodologia de elaborare si adoptare;",
          "c) dupa sfera de competenta a managerului implicat in procesul de conducere;",
          "d) dupa sfera de incompetenta a sefului direct."
        ],
        correct: [0, 1, 2]
      },
      {
        question: "16. Care dintre urmatoarele definitii privind comunicarea sunt corecte:",
        answers: [
          "a) comunicarea verticala descendenta cuprinde fluxuri de informatii (mesaje) generate de managerii de la nivelurile cele mai inalte ale institutiei si adresate celor de la nivelurile inferioare;",
          "b) comunicarea verticala descendenta apare intre persoane care ocupa pozitii situate la acelasi nivel ierarhic in sistemul de management;",
          "c) comunicarea verticala descendenta cuprinde fluxuri de informatii (mesaje) generate de managerii de la nivelurile cele mai de jos ale institutiei si adresate celor de la nivelurile superioare."
        ],
        correct: [0]
      },
      {
        question: "17. Orice decizie luata la un moment dat in organizatia publica presupune existenta unui mecanism din care fac parte mai multe sisteme:",
        answers: [
          "a) de evaluare si referinta;",
          "b) de analiza;",
          "c) de previziune;",
          "d) de masurare a performantelor."
        ],
        correct: [0, 1, 2]
      },
      {
        question: "18. Construirea alternativelor de decizie este o etapa in care:",
        answers: [
          "a) sunt invitati toti cetatenii unei comunitati;",
          "b) sunt cercetate si se analizeaza consecintele posibile ale fiecarei alternative;",
          "c) sunt stabilite, studiate si previzionate consecintele mai multor variante;",
          "d) se pregateste momentul deciziei."
        ],
        correct: [1, 2, 3]
      },
      {
        question: "19. Mediul ambiant decizional consta in:",
        answers: [
          "a) rezolvarea unei probleme pentru care exista foarte multe solutii;",
          "b) ansamblul elementelor interne si externe din organizatie care alcatuiesc situatia decizionala;",
          "c) suma de influente directe si indirecte semnificative legate de continutul si rezultatele deciziei manageriale;",
          "d) integrarea schimbarilor din mediul de actiune al managerilor in activitatile lor personale."
        ],
        correct: [1, 2]
      },
      {
        question: "20. Caracterizati 'comunicarea in fata unui auditoriu' selectind dintre urmatoarele aspecte enumerate in continuare:",
        answers: [
          "a) presupune prezenta obligatorie a tuturor angajatilor;",
          "b) este o forma a comunicarii in grup;",
          "c) permite identificarea problemelor care determina disfunctionalitatile din organizatie;",
          "d) are ca scop formarea unei imagini proprii, a grupului sau a organizatiei."
        ],
        correct: [1, 3]
      },
      {
        question: "21. Structura oricarei unitati a administratiei publice este reprezentata grafic prin organigrame simbolizate astfel:",
        answers: [
          "a) casute dreptunghiulare - posturile de executie, compartimentele de productie sau servire si clienti;",
          "b) linii - care evidentiaza relatiile de control intre compartimente;",
          "c) linii - care evidentiaza relatiile dintre compartimente;",
          "d) casute dreptunghiulare - posturi de conducere si compartimentele functionale de pe diferite niveluri ierarhice."
        ],
        correct: [2, 3]
      },
      {
        question: "22. In orice proces decizional trebuie sa fie respectate cerintele enumerate mai jos:",
        answers: [
          "a) deciziile trebuie sa fie imputernicite si legale;",
          "b) deciziile adoptate de manageri trebuie sa devina aplicabile dupa o perioada de gratie de 6 luni;",
          "c) deciziile si dispozitiile ce decurg din activitatea managerilor sunt transmise executantilor fara a avea interpretari diferite;",
          "d) deciziile trebuie sa fie fundamentate stiintific ori de cate ori este posibil si recomandabil."
        ],
        correct: [0, 2, 3]
      },
      {
        question: "23. Intr-o configuratie structurala, 'functiile' pot fi:",
        answers: [
          "a) manageriale si de executie;",
          "b) pozitiile succesive pe care le au fata de conducerea superioara, managerii compartimentelor situate la aceeasi distanta ierarhica;",
          "c) totalitatea posturilor care prezinta aceleasi caracteristici principale;",
          "d) totalitatea posturilor care prezinta caracteristici principale absolut complementare."
        ],
        correct: [0, 2]
      },
      {
        question: "24. Comunicarea orizontala apare in cadrul unei organizatii publice:",
        answers: [
          "a) intre persoane care ocupa pozitii situate la acelasi nivel ierarhic in sistemul de management;",
          "b) atunci cand este necesara coordonarea diverselor functii ale organizatiei;",
          "c) intre persoane care ocupa pozitii situate la niveluri ierarhice diferite in sistemul de management;",
          "d) intre persoane intre care exista relatii organizatorice de cooperare."
        ],
        correct: [0, 1, 3]
      },
      {
        question: "25. Unele institutii publice utilizeaza 'adresarea orala' care poate avea ca forme specifice importante:",
        answers: [
          "a) raportul final;",
          "b) raportul managerilor;",
          "c) raportul de situatie;",
          "d) briefingul."
        ],
        correct: [0, 2, 3]
      },
      {
        question: "26. Criteriile ce trebuie avute in vedere in procesul alegerii ca decizie optima, a uneia dintre variantele prezentate decidentilor sunt:",
        answers: [
          "a) implicarea rasunderii si asumarea unui risc;",
          "b) economia de resurse;",
          "c) rolul comunitatii in urmarirea efectelor asteptate;",
          "d) importanta deosebita a factorului uman."
        ],
        correct: [0, 1, 3]
      },
      {
        question: "27. Cele mai importante caracterstici ale relatiilor publice sunt:",
        answers: [
          "a) planificarea;",
          "b) dimensiunea marginala;",
          "c) performanta;",
          "d) deliberarea."
        ],
        correct: [0, 1, 2, 3]
      },
      {
        question: "28. In categoria situatiilor de criza in care sunt obligate sa se implice organizatiile publice se pot incadra:",
        answers: [
          "a) accidentele grave aviatice, maritime sau terestre;",
          "b) evenimentele social-politice (greve, miscari sociale de presiune a strazii, schimbarea subita a echipei de conducere);",
          "c) prezentarea noului Prefect numit de primul-ministru la Vaslui;",
          "d) catastrofele naturale (cutremure, inudatii)."
        ],
        correct: [0, 1, 3]
      },
      {
        question: "29. Fiecare angajat al unei institutii publice trebuie sa participe la stagii de insusire a unor tehnici de comunicare eficienta in situatii de criza, la nivelul:",
        answers: [
          "a) prezentarii institutiei in relatiile cu presa;",
          "b) prezentarii institutiei in relatiile cu partenerii straini;",
          "c) interpresonal;",
          "d) autoprezentarii."
        ],
        correct: [0, 1, 2, 3]
      },
      {
        question: "30. Prin controlul gradului de indeplinire a unei decizii in cadrul Primariei Iasi se urmareste:",
        answers: [
          "a) stabilirea unui program concret de actiune;",
          "b) implicarea raspunderii si riscului executantilor si utilizatorilor;",
          "c) formularea unor dispozitii, ordine, insstructiuni;",
          "d) determinarea cauzelor care au generat eventuale abateri de la program si de la rezultate asteptate."
        ],
        correct: [3]
      },
      {
        question: "31. Printre elementele componente ale imaginii organizationale sunt identificate:",
        answers: [
          "a) afacerile private ale managerilor;",
          "b) afacerile publice;",
          "c) consultanta;",
          "d) identitatea."
        ],
        correct: [1, 2, 3]
      },
      {
        question: "32. Care dintre enunturile de mai jos constituie caracteristicile importante in adoptarea deciziei manageriale:",
        answers: [
          "a) presupune existenta unui obiectiv masurabil si precis determinat;",
          "b) este necesara utilizarea unui mare volum de informatii care sa reflecte concomitent realitatea;",
          "c) decizia trebuie sa fie rezultatul unui proces decizional rational;",
          "d) continutul deciziei cuprinde una, doua sau mai multe variante de actiune."
        ],
        correct: [0, 1, 2]
      },
      {
        question: "33. Relatiile (legaturile) structurale se stabilesc penrtu o organizatie publica:",
        answers: [
          "a) intre compartimente sau salariatii investiti cu autoritate formala;",
          "b) in cazul in care comunicarea informatiilor este reglementata juridic;",
          "c) ca urmare a necesitatii comunicarii intre compartimente;",
          "d) intre compartimente sau salariatii din organizatii publice diferite ale comunitatii."
        ],
        correct: [1, 2]
      },
      {
        question: "34. Structura organizatorica a unei institutii publice locale reprezinta:",
        answers: [
          "a) legaturile care se stabilesc intre ele in scopul atingerii obiectivelor;",
          "b) ansamblul persoanelor si compartimentelor functionale si modul in care sunt constituite;",
          "c) nivelul rezultatelor programate de sefii institutiei publice pentru un an;",
          "d) numarul de activitati planificate anual de catre conducere."
        ],
        correct: [0, 1]
      },
      {
        question: "35. Activitatea de lobby in cazul unei organizatii publice:",
        answers: [
          "a) are ca scop influentarea deciziilor puterii (Presedinte, Guvern, Parlament);",
          "b) este o forma de manifestare a procesului decizional;",
          "c) se realizeaza prin mijloacele specifice relatiilor publice;",
          "d) se desfasoara pentru luarea in discutie a unor probleme de interes public."
        ],
        correct: [0, 2, 3]
      }
    ];


// --- 1. CONFIGURARE BAZƒÇ DE DATE ---
    // (Aici trebuie sƒÉ fie lista ta 'const questions = [...]')
    
    // --- 2. VARIABILE GLOBALE ---
    let currentQ = 0;
    let totalScore = 0;
    let streak = 0;
    
    // Aici »õinem minte ordinea amestecatƒÉ a √ÆntrebƒÉrilor
    let shuffledQuestions = [];
    
    // Aici »õinem minte ISTORICUL (ce ai rƒÉspuns, ordinea variantelor etc.)
    let quizState = []; 

    // Referin»õe la elementele din HTML
    const qText = document.getElementById("q-text");
    const qNum = document.getElementById("q-number");
    const answersList = document.getElementById("answers-list");
    const actionBtn = document.getElementById("action-btn");
    const learnBtn = document.getElementById("learn-btn");
    const streakEl = document.getElementById("streak-count");
    const timerBar = document.getElementById("timer-bar");
    const prevBtn = document.getElementById("prev-btn");
    const nextBtn = document.getElementById("next-btn");

    // --- 3. FUNC»öII UTILITARE ---

    // Func»õia de amestecare (Fisher-Yates)
    function shuffleArray(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
      return array;
    }


    function initQuiz() {
      currentQ = 0;
      totalScore = 0;
      streak = 0;
      
      // AmestecƒÉm √ÆntrebƒÉrile la √Ænceput
      shuffledQuestions = JSON.parse(JSON.stringify(questions)); 
      shuffleArray(shuffledQuestions);

      // ResetƒÉm memoria goalƒÉ
      quizState = new Array(shuffledQuestions.length).fill(null);
      
      updateStreakUI();
      loadQuestion();
    }

    function loadQuestion() {
      // Navigare butoane (activare/dezactivare)
      prevBtn.disabled = (currentQ === 0);
      nextBtn.disabled = (currentQ === shuffledQuestions.length - 1);

      // Anima»õie Timer
      timerBar.style.transition = "none";
      timerBar.style.transform = "scaleX(1)";
      setTimeout(() => {
        timerBar.style.transition = "transform 60s linear";
        timerBar.style.transform = "scaleX(0)";
      }, 100);

      // LuƒÉm √Æntrebarea curentƒÉ
      const q = shuffledQuestions[currentQ];
      
      // CurƒÉ»õƒÉm textul √ÆntrebƒÉrii de numere (ex: "1. √éntrebare" -> "√éntrebare")
      let cleanQText = q.question.replace(/^\d+[\.\)]\s*/, '');
      
      qNum.innerText = `√éntrebarea ${currentQ + 1} / ${shuffledQuestions.length}`;
      qText.innerText = cleanQText;
      answersList.innerHTML = "";

      // VerificƒÉm memoria: Am mai fost aici?
      let currentState = quizState[currentQ];

      // DacƒÉ NU am mai fost, ini»õializƒÉm starea pentru aceastƒÉ √Æntrebare
      if (!currentState) {
        // CreƒÉm perechi {text, indexOriginal} »ôi le amestecƒÉm
        let answerPairs = q.answers.map((text, idx) => ({ text: text, originalIdx: idx }));
        shuffleArray(answerPairs);
        
        currentState = {
            answered: false,      // √éncƒÉ nu s-a rƒÉspuns
            answerOrder: answerPairs, // MemorƒÉm ordinea asta amestecatƒÉ
            selectedIdx: [],      // Nimic selectat
            score: 0,
            btnText: "VERIFICƒÇ",
            btnColor: "var(--accent)"
        };
        quizState[currentQ] = currentState;
      }

      // ConfigurƒÉm butonul principal
      actionBtn.innerText = currentState.btnText;
      actionBtn.style.background = currentState.btnColor;
      
      if (currentState.answered) {
          actionBtn.onclick = () => nextQuestion(); // DacƒÉ e gata, doar treci mai departe
          learnBtn.style.display = "none";
      } else {
          actionBtn.onclick = handleAction; // DacƒÉ nu, verificƒÉ
          learnBtn.style.display = "block";
      }

      // GenerƒÉm RƒÉspunsurile (Litere dinamice a, b, c...)
      const letters = ['a', 'b', 'c', 'd', 'e', 'f'];

      currentState.answerOrder.forEach((pair, domIndex) => {
        const div = document.createElement("label");
        div.className = "answer-option";
        
        // CurƒÉ»õƒÉm textul rƒÉspunsului (scoatem a), b) vechi)
        let cleanAnsText = pair.text.replace(/^[a-zA-Z0-9]+[\.\)]\s*/, '');
        let newLabel = letters[domIndex] + ") ";

        // VerificƒÉm dacƒÉ a fost bifat
        let isChecked = currentState.selectedIdx.includes(pair.originalIdx);

        div.innerHTML = `
          <input type="checkbox" name="ans" value="${pair.originalIdx}" ${isChecked ? "checked" : ""}>
          <div class="custom-check"></div>
          <span class="ans-text"><b>${newLabel}</b>${cleanAnsText}</span>
        `;

        // DacƒÉ s-a rƒÉspuns deja, blocƒÉm »ôi colorƒÉm
        if (currentState.answered) {
            div.style.pointerEvents = "none";
            div.querySelector("input").disabled = true;
            
            const isCorrect = q.correct.includes(pair.originalIdx);
            
            if (isCorrect) div.classList.add("correct");
            if (isChecked && !isCorrect) div.classList.add("wrong");
        } else {
            // DacƒÉ nu s-a rƒÉspuns, permitem click
            div.querySelector("input").addEventListener("change", function() {
              if(this.checked) div.classList.add("selected");
              else div.classList.remove("selected");
            });
        }
        
        if (isChecked && !currentState.answered) div.classList.add("selected");
        answersList.appendChild(div);
      });
    }

    function handleAction() {
      checkAnswer();
    }

    function checkAnswer() {
      const checked = Array.from(document.querySelectorAll('input[name="ans"]:checked'));
      if (checked.length === 0) return; 

      const userIdx = checked.map(c => parseInt(c.value));
      const q = shuffledQuestions[currentQ];
      const correctIdx = q.correct;

      // Calcul Punctaj
      let correctSelected = 0;
      let wrongSelected = 0;

      userIdx.forEach(idx => {
        if (correctIdx.includes(idx)) correctSelected++;
        else wrongSelected++;
      });

      let ratio = (correctSelected - wrongSelected) / correctIdx.length;
      if (ratio < 0) ratio = 0;

      const pointsPerQuestion = 10 / shuffledQuestions.length;
      const pointsEarned = ratio * pointsPerQuestion;
      
      totalScore += pointsEarned;

      // Feedback vizual buton
      let btnText = "";
      let btnColor = "";

      if (ratio === 1) {
        streak++;
        btnText = "CORECT! üëè";
        btnColor = "var(--correct)";
        setTimeout(() => { if(currentQ < shuffledQuestions.length - 1) nextQuestion(); }, 1200);
      } else {
        streak = 0;
        const pts = pointsEarned.toFixed(2);
        btnText = ratio > 0 ? `PAR»öIAL: +${pts}p` : "GRE»òIT: 0p";
        btnColor = ratio > 0 ? "var(--warning)" : "var(--wrong)";
      }

      // SALVƒÇM TOT √éN MEMORIE (Esen»õial pentru Review!)
      quizState[currentQ].answered = true;
      quizState[currentQ].selectedIdx = userIdx;
      quizState[currentQ].score = pointsEarned; // SalvƒÉm punctajul ca sƒÉ »ôtim dacƒÉ e gre»ôit
      quizState[currentQ].btnText = btnText;
      quizState[currentQ].btnColor = btnColor;

      updateStreakUI();
      loadQuestion(); // Re√ÆncƒÉrcƒÉm pentru a bloca interfa»õa
    }

    function triggerLearnMode() {
      // Modul √énva»õƒÉ
      quizState[currentQ].answered = true;
      quizState[currentQ].selectedIdx = [];
      quizState[currentQ].score = 0; 
      quizState[currentQ].btnText = "√éNVƒÇ»öARE";
      quizState[currentQ].btnColor = "var(--accent)";
      
      streak = 0;
      updateStreakUI();
      loadQuestion();
    }

    function prevQuestion() {
      if (currentQ > 0) {
        currentQ--;
        loadQuestion();
      }
    }

    function nextQuestion() {
      if (currentQ < shuffledQuestions.length - 1) {
        currentQ++;
        loadQuestion();
      } else {
        showResults();
      }
    }

    function updateStreakUI() {
      streakEl.innerText = streak;
      if(streak > 2) streakEl.parentElement.style.background = "rgba(255, 255, 255, 0.4)";
      else streakEl.parentElement.style.background = "rgba(255, 255, 255, 0.15)";
    }

    function fireConfetti() {
      const colors = ['#10b981', '#34d399', '#f59e0b', '#ffffff'];
      for (let i = 0; i < 50; i++) {
        const conf = document.createElement('div');
        conf.className = 'confetti';
        conf.style.left = Math.random() * 100 + 'vw';
        conf.style.top = -10 + 'px';
        conf.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
        conf.style.animationDuration = (Math.random() * 3 + 2) + 's';
        document.body.appendChild(conf);
      }
    }

    // --- 5. LOGICA DE FINAL & REVIEW (Aici era problema ta) ---

    function showResults() {
      const container = document.getElementById("quiz-container");
      const finalGrade = totalScore.toFixed(2);
      
      if(totalScore >= 5) fireConfetti();
      
      let msg = "";
      if (totalScore >= 9) msg = "Excelent! üåü";
      else if (totalScore >= 7) msg = "Foarte bine! üëè";
      else if (totalScore >= 5) msg = "Ai trecut! üëç";
      else msg = "Mai exerseazƒÉ! üìâ";

      const maxPointPerQ = 10 / shuffledQuestions.length;
      const mistakes = quizState.filter(s => s.score < maxPointPerQ - 0.001).length;

      let reviewBtnHTML = "";
      if (mistakes > 0) {
        reviewBtnHTML = `<button class="btn btn-learn" onclick="toggleReview()" style="margin-top:15px; font-size:0.9rem;">üîç Vezi Gre»ôelile (${mistakes})</button>`;
      }

      container.innerHTML = `
        <div class="result-view">
          <div class="score-circle">
            <span style="z-index:2; color:white; font-size: 2.5rem;">${finalGrade}</span>
          </div>
          <h1 style="margin:0;">${msg}</h1>
          <p style="color:var(--text-muted); font-size:1.2rem; margin-top:10px;">
            Nota finalƒÉ: ${finalGrade} din 10
          </p>
          
          <div class="controls" style="margin-top:30px; flex-wrap:wrap;">
             <button class="btn btn-secondary" onclick="location.href='index.html'">Meniu</button>
             <button class="btn btn-primary" onclick="location.reload()">Din Nou</button>
          </div>
          
          ${reviewBtnHTML}

          <div id="review-section"></div>
        </div>
      `;
    }
    function toggleReview() {
      const reviewDiv = document.getElementById("review-section");
      if (reviewDiv.style.display === "block") {
          reviewDiv.style.display = "none";
          return;
      }
      let html = "";
      const maxPointPerQ = 10 / shuffledQuestions.length;
      const letters = ['a', 'b', 'c', 'd', 'e', 'f'];

      shuffledQuestions.forEach((q, index) => {
        const state = quizState[index];
        
        // Afi»ôƒÉm doar √ÆntrebƒÉrile unde nu s-a luat punctaj maxim
        if (state.score < maxPointPerQ - 0.001) {
            
            let cleanQ = q.question.replace(/^\d+[\.\)]\s*/, '');

            html += `<div class="review-card">
              <div class="review-q-title">#${index + 1}. ${cleanQ}</div>`;
            state.answerOrder.forEach((pair, domIndex) => {
                const originalIdx = pair.originalIdx;
                const isCorrect = q.correct.includes(originalIdx);
                const isSelected = state.selectedIdx.includes(originalIdx);
                
                let styleClass = "review-neutral";
                let icon = "";

                if (isCorrect) {
                    styleClass = "review-correct"; // Verde
                    icon = "‚úÖ"; 
                } else if (isSelected && !isCorrect) {
                    styleClass = "review-wrong"; // Ro»ôu
                    icon = "‚ùå";
                }

                let userMark = isSelected ? "(Ales de tine)" : "";
                let cleanAns = pair.text.replace(/^[a-zA-Z0-9]+[\.\)]\s*/, '');

                html += `
                  <div class="review-option ${styleClass}">
                    <span><b>${letters[domIndex]})</b></span>
                    <span style="flex:1;">${cleanAns} <small style="opacity:0.7;">${userMark}</small></span>
                    <span>${icon}</span>
                  </div>
                `;
            });

            html += `</div>`;
        }
      });

      reviewDiv.innerHTML = html;
      reviewDiv.style.display = "block";
      
      // Scroll automat p√¢nƒÉ la sec»õiunea de review
      reviewDiv.scrollIntoView({ behavior: 'smooth' });
    }

    // Pornire
    initQuiz();
    </script>
</body>
</html>