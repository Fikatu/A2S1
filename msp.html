<!DOCTYPE html>
<html lang="ro">
<head>
  <meta charset="UTF-8">
  <title>MSP - Ultra Pro</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;500;700&display=swap" rel="stylesheet">
  
  <style>
    :root {
      --bg-dark: #0f172a;
      --card-dark: #1e293b;
      --accent: #6366f1; /* Indigo */
      --accent-glow: #818cf8;
      --correct: #10b981; /* Emerald */
      --wrong: #ef4444; /* Red */
      --warning: #f59e0b; /* Amber */
      --text-main: #f8fafc;
      --text-muted: #94a3b8;
      --radius: 24px;
    }

    * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

    body {
      margin: 0;
      padding: 0;
      font-family: 'Outfit', sans-serif;
      background-color: var(--bg-dark);
      color: var(--text-main);
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      overflow-x: hidden;
      background-image: 
        radial-gradient(circle at 10% 20%, rgba(99, 102, 241, 0.15) 0%, transparent 20%),
        radial-gradient(circle at 90% 80%, rgba(16, 185, 129, 0.1) 0%, transparent 20%);
    }

    /* --- Top Bar & Progress --- */
    .top-bar {
      width: 100%;
      max-width: 700px;
      padding: 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      z-index: 10;
    }

    .back-btn {
      background: rgba(255,255,255,0.1);
      border: none;
      color: var(--text-main);
      width: 40px;
      height: 40px;
      border-radius: 12px;
      font-size: 1.2rem;
      cursor: pointer;
      display: grid;
      place-items: center;
      transition: 0.2s;
      text-decoration: none;
    }
    .back-btn:hover { background: rgba(255,255,255,0.2); }

    .streak-container {
      display: flex;
      align-items: center;
      gap: 6px;
      background: rgba(245, 158, 11, 0.15);
      color: var(--warning);
      padding: 6px 14px;
      border-radius: 20px;
      font-weight: 700;
      font-size: 0.9rem;
      border: 1px solid rgba(245, 158, 11, 0.3);
    }

    /* --- Main Card --- */
    .quiz-container {
      width: 100%;
      max-width: 650px;
      flex: 1;
      display: flex;
      flex-direction: column;
      padding: 10px 20px 40px;
      position: relative;
    }

    /* Timer Line */
    .timer-wrapper {
      width: 100%;
      height: 6px;
      background: #334155;
      border-radius: 10px;
      margin-bottom: 20px;
      overflow: hidden;
      position: relative;
    }
    .timer-bar {
      height: 100%;
      width: 100%;
      background: linear-gradient(90deg, var(--accent), var(--accent-glow));
      border-radius: 10px;
      transform-origin: left;
      transition: transform 1s linear; /* Va fi animat din JS */
    }

    .question-card {
      background: var(--card-dark);
      border-radius: var(--radius);
      padding: 30px;
      box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
      border: 1px solid rgba(255,255,255,0.05);
      animation: fadeInScale 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
      margin-bottom: 20px;
    }

    .q-number {
      color: var(--text-muted);
      font-size: 0.85rem;
      text-transform: uppercase;
      letter-spacing: 1.5px;
      margin-bottom: 10px;
      font-weight: 700;
    }

    .q-text {
      font-size: 1.3rem;
      line-height: 1.5;
      font-weight: 600;
      margin: 0 0 10px 0;
    }

    /* --- Answers --- */
    .answers-list {
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .answer-option {
      position: relative;
      background: rgba(255,255,255,0.03);
      border: 2px solid rgba(255,255,255,0.08);
      padding: 18px 20px;
      border-radius: 16px;
      cursor: pointer;
      transition: all 0.2s;
      display: flex;
      align-items: flex-start;
      gap: 15px;
      font-size: 1rem;
    }

    .answer-option:hover {
      background: rgba(255,255,255,0.06);
      border-color: rgba(255,255,255,0.2);
      transform: translateX(5px);
    }

    /* Custom Checkbox */
    .custom-check {
      width: 24px;
      height: 24px;
      border: 2px solid var(--text-muted);
      border-radius: 8px;
      flex-shrink: 0;
      display: grid;
      place-items: center;
      transition: 0.2s;
      margin-top: 2px;
    }
    .custom-check::after {
      content: 'âœ”';
      font-size: 14px;
      color: #fff;
      transform: scale(0);
      transition: 0.2s;
    }

    /* Hide default checkbox */
    input[type="checkbox"] { display: none; }
    
    /* Checked State (User Selection) */
    input:checked + .custom-check {
      background: var(--accent);
      border-color: var(--accent);
    }
    input:checked + .custom-check::after {
      transform: scale(1);
    }
    input:checked ~ .ans-text {
      color: #fff;
      font-weight: 500;
    }
    .answer-option.selected {
      background: rgba(99, 102, 241, 0.15);
      border-color: var(--accent);
    }

    /* --- Correct / Wrong States --- */
    .answer-option.correct {
      background: rgba(16, 185, 129, 0.15) !important;
      border-color: var(--correct) !important;
      box-shadow: 0 0 15px rgba(16, 185, 129, 0.2);
    }
    .answer-option.correct .custom-check {
      background: var(--correct) !important;
      border-color: var(--correct) !important;
    }

    .answer-option.wrong {
      background: rgba(239, 68, 68, 0.15) !important;
      border-color: var(--wrong) !important;
      animation: shake 0.4s ease;
    }
    .answer-option.wrong .custom-check {
      background: var(--wrong) !important;
      border-color: var(--wrong) !important;
    }
    .answer-option.wrong .custom-check::after {
      content: 'âœ–';
    }

    /* --- Buttons --- */
    .controls {
      display: flex;
      gap: 15px;
      margin-top: auto;
    }

    .btn {
      flex: 1;
      padding: 18px;
      border-radius: 16px;
      border: none;
      font-family: inherit;
      font-weight: 700;
      font-size: 1rem;
      cursor: pointer;
      transition: 0.2s;
      text-transform: uppercase;
      letter-spacing: 1px;
      box-shadow: 0 4px 0 rgba(0,0,0,0.2);
    }
    .btn:active { transform: translateY(4px); box-shadow: none; }

    .btn-primary {
      background: var(--accent);
      color: white;
      box-shadow: 0 4px 0 #4338ca;
    }
    .btn-primary:hover { background: #4f46e5; }

    .btn-secondary {
      background: transparent;
      border: 2px solid var(--text-muted);
      color: var(--text-muted);
      box-shadow: none;
    }
    .btn-secondary:hover {
      border-color: var(--text-main);
      color: var(--text-main);
    }

    .btn-learn {
      background: rgba(245, 158, 11, 0.1);
      color: var(--warning);
      border: 1px solid var(--warning);
      box-shadow: none;
    }

    /* --- Results Screen --- */
    .result-view {
      text-align: center;
      padding: 40px 20px;
      animation: slideUp 0.5s ease;
    }
    .score-circle {
      width: 180px;
      height: 180px;
      border-radius: 50%;
      border: 8px solid var(--card-dark);
      background: conic-gradient(var(--accent) 0%, var(--card-dark) 0%);
      margin: 0 auto 30px;
      display: grid;
      place-items: center;
      font-size: 3.5rem;
      font-weight: 800;
      position: relative;
      box-shadow: 0 0 30px rgba(99, 102, 241, 0.3);
    }
    .score-circle::before {
      content: '';
      position: absolute;
      inset: 10px;
      background: var(--bg-dark);
      border-radius: 50%;
      z-index: -1;
    }

    /* --- Utilities --- */
    .hidden { display: none !important; }
    
    @keyframes fadeInScale {
      from { opacity: 0; transform: scale(0.95); }
      to { opacity: 1; transform: scale(1); }
    }
    @keyframes slideUp {
      from { opacity: 0; transform: translateY(40px); }
      to { opacity: 1; transform: translateY(0); }
    }
    @keyframes shake {
      0%, 100% { transform: translateX(0); }
      25% { transform: translateX(-8px); }
      75% { transform: translateX(8px); }
    }

    /* Confetti (CSS Only) */
    .confetti {
      position: fixed;
      width: 10px;
      height: 10px;
      background-color: #f00;
      animation: fall linear forwards;
      z-index: 100;
    }
    @keyframes fall {
      to { transform: translateY(100vh) rotate(720deg); }
    }
  </style>
</head>
<body>

  <div class="top-bar">
    <a href="index.html" class="back-btn">âœ•</a>
    <div class="streak-container">
      <span id="streak-icon">ðŸ”¥</span>
      <span id="streak-count">0</span>
    </div>
  </div>

  <div class="quiz-container" id="quiz-container">
    
    <div class="timer-wrapper">
      <div class="timer-bar" id="timer-bar"></div>
    </div>

    <div class="question-card" id="question-card">
      <div class="q-number" id="q-number">ÃŽntrebarea 1</div>
      <p class="q-text" id="q-text">Se Ã®ncarcÄƒ...</p>
      
      <div class="answers-list" id="answers-list">
        </div>
    </div>

    <div class="controls">
      <button class="btn btn-learn" id="learn-btn" onclick="triggerLearnMode()">ðŸ‘€ ÃŽnvaÈ›Äƒ</button>
      <button class="btn btn-primary" id="action-btn" onclick="handleAction()">VerificÄƒ</button>
    </div>

  </div>

  <script>
    /* DATELE TALE MSP */
    const questions = [
      {
        question: "1. Biroul de Achizitii publice din cadrul Universitatii Tehnice este:",
        answers: [
          "a) un compartiment elementar care se constituie pentru indeplinirea unor lucrari sau activitati omogene si care necesita o activitate distincta;",
          "b) un compartiment organizat distinct;",
          "c) un spatiu ce poate avea cel mult 20 de posturi de munca ocupate;",
          "d) un element component al structurii organizatorice."
        ],
        correct: [0, 1, 3] 
      },
      {
        question: "2. Utilizarea mijloacelor electronice in procesul de comunicare determina o serie de dezavantaje:",
        answers: [
          "a) este posibila numai intre cei care fac parte din retea;",
          "b) poate crea dependenta;",
          "c) se pot scurge informatii confidentiale;",
          "d) au un cost foarte mare fata de alte canale de comunicare."
        ],
        correct: [0, 2]
      },
      {
        question: "3. In anumite situatii, institutiile stabilesc unul sau mai multi purtatori de cuvant pentru relatiile cu presa, datorita:",
        answers: [
          "a) aversiunii sau fricii fata de presa;",
          "b) aspectului fizic sau a starii de moment a sanatatii;",
          "c) absenta unuia dintre ei din tara;",
          "d) lipsei de timp a liderului unei institutii"
        ],
        correct: [0, 1, 2, 3]
      },
      {
        question: "4. Metodele utilizate in adoptarea deciziilor pot fi:",
        answers: [
          "a) de organizare;",
          "b) traditionale;",
          "c) de optimizare;",
          "d) comparative."
        ],
        correct: [1, 2, 3]
      },
      {
        question: "5. Decidentul unei institutii publice este reprezentat de:",
        answers: [
          "a) un manager care adopta o decizie in virtutea obiectivelor competentelor sale;",
          "b) presedintele grupului majoritar din coalitie;",
          "c) un executant care hotaraste modul de actiune a activitatilor zilnice;",
          "d) un organism managerial care, conform responsabilitatilor circumscrise ia decizia in situatia respectiva."
        ],
        correct: [0, 3]
      },
      {
        question: "6. Care dintre urmatoarele caracteristici apartin modelului de comunicare Shannon-Weaver:",
        answers: [
          "a) comunicarea implica o buna coordonare a intelesurilor;",
          "b) comunicarea este folosita in scopuri multiple;",
          "c) comunicarea presupune capacitatea de a anticipa reactiile celorlalti;",
          "d) receptorul percepe mesajul exact in forma si cu continutul dorit de emitator"
        ],
        correct: [3]
      },
      {
        question: "7. Prin imaginea organizationala se distinge un concept complex constituit din urmatoarele elemente:",
        answers: [
          "a) responsabilitate sociala;",
          "b) istoria organizatiei;",
          "c) succesele si stabilitatea organizatiei din punct de vedere financiar;",
          "d) calitatea ofertei sale si reputatia organizatiei."
        ],
        correct: [0, 1, 2, 3]
      },
      {
        question: "8. Managerul public trebuie sa stabileasca in continutul unei decizii:",
        answers: [
          "a) modalitatea practica de actiune;",
          "b) gradul de autonomie manifestat de executanti;",
          "c) obiectivul urmarit;",
          "d) locul si responsabilul aplicarii acesteia."
        ],
        correct: [0, 2, 3]
      },
      {
        question: "9. Orice situatie decizionala presupune in mod obligatoriu:",
        answers: [
          "a) doua sau mai multe alternative de actiune care pot asigura realizarea obictivelor propuse;",
          "b) cunoasterea anticipata a alternativei optime pentru atingerea obiectivelor;",
          "c) cunoasterea calitatilor personale ale decidentilor;",
          "d) unul sau mai multe obiective de atins."
        ],
        correct: [0, 3]
      },
      {
        question: "10. La Institutia Prefectului din Bacau, managementul comunicarii se bazeaza pe planificarea relatiilor publice pe o serie de etape:",
        answers: [
          "a) planificarea, elaborarea mixului de relatii publice, programarea si evaluarea lor;",
          "b) stabilirea obiectivelor generale;",
          "c) formularea strategiilor;",
          "d) identificarea problemei."
        ],
        correct: [0, 1, 2, 3]
      },
      {
        question: "11. Care dintre enunturile de mai jos reprezinta caracteristici importante ale deciziei manageriale:",
        answers: [
          "a) luarea unei decizii presupune o alegere a solutiei din mai multe variante posibile;",
          "b) alegerea uneia dintre variante trebuie sa fie rezultatul unui act constient, deliberat al decidentilor;",
          "c) evenimentele analizate logic se bazeaza pe experienta si intuitie;",
          "d) alegerea unei solutii trebuie sa fie rezultatul unui act spontan."
        ],
        correct: [0, 1, 2]
      },
      {
        question: "12. In organizatiile publice, avantajele utilizarii 'postei' ca un canal de comunicare sunt:",
        answers: [
          "a) mesajele pot fi inregistrate permanent;",
          "b) directia de transmitere a mesajelor este stabilita prin regulament;",
          "c) mesajele sunt consecvente catre toti primitorii;",
          "d) mesajele au un volum excesiv."
        ],
        correct: [0, 2]
      },
      {
        question: "13. Structura organizationala a unei organizatii publice cuprinde urmatoarele componente:",
        answers: [
          "a) planurile decizionale;",
          "b) compartimente cu rol de exprimare a diviziunii muncii in cadrul administratiei locale;",
          "c) autoritatea si responsabilitatea angajatilor;", 
          "d) relatiile ce se stabilesc intre compartimente."
        ],
        correct: [1, 2, 3]
      },
      {
        question: "14. In realizarea planului de relatii publice se pot incadra urmatoarele tipuri de activitati:",
        answers: [
          "a) lobby-ul;",
          "b) organizarea de evenimente publice;",
          "c) discursuri periodice in piete publice;", 
          "d) publicitatea."
        ],
        correct: [0, 1, 3]
      },
      {
        question: "15. Cele mai importante criterii de clasificare ale deciziilor utilizate in management sunt:",
        answers: [
          "a) dupa natura obiectivelor urmarite si orizontul de timp la care se refera;",
          "b) dupa metodologia de elaborare si adoptare;",
          "c) dupa sfera de competenta a managerului implicat in procesul de conducere;",
          "d) dupa sfera de incompetenta a sefului direct."
        ],
        correct: [0, 1, 2]
      },
      {
        question: "16. Care dintre urmatoarele definitii privind comunicarea sunt corecte:",
        answers: [
          "a) comunicarea verticala descendenta cuprinde fluxuri de informatii (mesaje) generate de managerii de la nivelurile cele mai inalte ale institutiei si adresate celor de la nivelurile inferioare;",
          "b) comunicarea verticala descendenta apare intre persoane care ocupa pozitii situate la acelasi nivel ierarhic in sistemul de management;",
          "c) comunicarea verticala descendenta cuprinde fluxuri de informatii (mesaje) generate de managerii de la nivelurile cele mai de jos ale institutiei si adresate celor de la nivelurile superioare."
        ],
        correct: [0]
      },
      {
        question: "17. Orice decizie luata la un moment dat in organizatia publica presupune existenta unui mecanism din care fac parte mai multe sisteme:",
        answers: [
          "a) de evaluare si referinta;",
          "b) de analiza;",
          "c) de previziune;",
          "d) de masurare a performantelor."
        ],
        correct: [0, 1, 2]
      },
      {
        question: "18. Construirea alternativelor de decizie este o etapa in care:",
        answers: [
          "a) sunt invitati toti cetatenii unei comunitati;",
          "b) sunt cercetate si se analizeaza consecintele posibile ale fiecarei alternative;",
          "c) sunt stabilite, studiate si previzionate consecintele mai multor variante;",
          "d) se pregateste momentul deciziei."
        ],
        correct: [1, 2, 3]
      },
      {
        question: "19. Mediul ambiant decizional consta in:",
        answers: [
          "a) rezolvarea unei probleme pentru care exista foarte multe solutii;",
          "b) ansamblul elementelor interne si externe din organizatie care alcatuiesc situatia decizionala;",
          "c) suma de influente directe si indirecte semnificative legate de continutul si rezultatele deciziei manageriale;",
          "d) integrarea schimbarilor din mediul de actiune al managerilor in activitatile lor personale."
        ],
        correct: [1, 2]
      },
      {
        question: "20. Caracterizati 'comunicarea in fata unui auditoriu' selectind dintre urmatoarele aspecte enumerate in continuare:",
        answers: [
          "a) presupune prezenta obligatorie a tuturor angajatilor;",
          "b) este o forma a comunicarii in grup;",
          "c) permite identificarea problemelor care determina disfunctionalitatile din organizatie;",
          "d) are ca scop formarea unei imagini proprii, a grupului sau a organizatiei."
        ],
        correct: [1, 3]
      },
      {
        question: "21. Structura oricarei unitati a administratiei publice este reprezentata grafic prin organigrame simbolizate astfel:",
        answers: [
          "a) casute dreptunghiulare - posturile de executie, compartimentele de productie sau servire si clienti;",
          "b) linii - care evidentiaza relatiile de control intre compartimente;",
          "c) linii - care evidentiaza relatiile dintre compartimente;",
          "d) casute dreptunghiulare - posturi de conducere si compartimentele functionale de pe diferite niveluri ierarhice."
        ],
        correct: [2, 3]
      },
      {
        question: "22. In orice proces decizional trebuie sa fie respectate cerintele enumerate mai jos:",
        answers: [
          "a) deciziile trebuie sa fie imputernicite si legale;",
          "b) deciziile adoptate de manageri trebuie sa devina aplicabile dupa o perioada de gratie de 6 luni;",
          "c) deciziile si dispozitiile ce decurg din activitatea managerilor sunt transmise executantilor fara a avea interpretari diferite;",
          "d) deciziile trebuie sa fie fundamentate stiintific ori de cate ori este posibil si recomandabil."
        ],
        correct: [0, 2, 3]
      },
      {
        question: "23. Intr-o configuratie structurala, 'functiile' pot fi:",
        answers: [
          "a) manageriale si de executie;",
          "b) pozitiile succesive pe care le au fata de conducerea superioara, managerii compartimentelor situate la aceeasi distanta ierarhica;",
          "c) totalitatea posturilor care prezinta aceleasi caracteristici principale;",
          "d) totalitatea posturilor care prezinta caracteristici principale absolut complementare."
        ],
        correct: [0, 2]
      },
      {
        question: "24. Comunicarea orizontala apare in cadrul unei organizatii publice:",
        answers: [
          "a) intre persoane care ocupa pozitii situate la acelasi nivel ierarhic in sistemul de management;",
          "b) atunci cand este necesara coordonarea diverselor functii ale organizatiei;",
          "c) intre persoane care ocupa pozitii situate la niveluri ierarhice diferite in sistemul de management;",
          "d) intre persoane intre care exista relatii organizatorice de cooperare."
        ],
        correct: [0, 1, 3]
      },
      {
        question: "25. Unele institutii publice utilizeaza 'adresarea orala' care poate avea ca forme specifice importante:",
        answers: [
          "a) raportul final;",
          "b) raportul managerilor;",
          "c) raportul de situatie;",
          "d) briefingul."
        ],
        correct: [0, 2, 3]
      },
      {
        question: "26. Criteriile ce trebuie avute in vedere in procesul alegerii ca decizie optima, a uneia dintre variantele prezentate decidentilor sunt:",
        answers: [
          "a) implicarea rasunderii si asumarea unui risc;",
          "b) economia de resurse;",
          "c) rolul comunitatii in urmarirea efectelor asteptate;",
          "d) importanta deosebita a factorului uman."
        ],
        correct: [0, 1, 3]
      },
      {
        question: "27. Cele mai importante caracterstici ale relatiilor publice sunt:",
        answers: [
          "a) planificarea;",
          "b) dimensiunea marginala;",
          "c) performanta;",
          "d) deliberarea."
        ],
        correct: [0, 1, 2, 3]
      },
      {
        question: "28. In categoria situatiilor de criza in care sunt obligate sa se implice organizatiile publice se pot incadra:",
        answers: [
          "a) accidentele grave aviatice, maritime sau terestre;",
          "b) evenimentele social-politice (greve, miscari sociale de presiune a strazii, schimbarea subita a echipei de conducere);",
          "c) prezentarea noului Prefect numit de primul-ministru la Vaslui;",
          "d) catastrofele naturale (cutremure, inudatii)."
        ],
        correct: [0, 1, 3]
      },
      {
        question: "29. Fiecare angajat al unei institutii publice trebuie sa participe la stagii de insusire a unor tehnici de comunicare eficienta in situatii de criza, la nivelul:",
        answers: [
          "a) prezentarii institutiei in relatiile cu presa;",
          "b) prezentarii institutiei in relatiile cu partenerii straini;",
          "c) interpresonal;",
          "d) autoprezentarii."
        ],
        correct: [0, 1, 2, 3]
      },
      {
        question: "30. Prin controlul gradului de indeplinire a unei decizii in cadrul Primariei Iasi se urmareste:",
        answers: [
          "a) stabilirea unui program concret de actiune;",
          "b) implicarea raspunderii si riscului executantilor si utilizatorilor;",
          "c) formularea unor dispozitii, ordine, insstructiuni;",
          "d) determinarea cauzelor care au generat eventuale abateri de la program si de la rezultate asteptate."
        ],
        correct: [3]
      },
      {
        question: "31. Printre elementele componente ale imaginii organizationale sunt identificate:",
        answers: [
          "a) afacerile private ale managerilor;",
          "b) afacerile publice;",
          "c) consultanta;",
          "d) identitatea."
        ],
        correct: [1, 2, 3]
      },
      {
        question: "32. Care dintre enunturile de mai jos constituie caracteristicile importante in adoptarea deciziei manageriale:",
        answers: [
          "a) presupune existenta unui obiectiv masurabil si precis determinat;",
          "b) este necesara utilizarea unui mare volum de informatii care sa reflecte concomitent realitatea;",
          "c) decizia trebuie sa fie rezultatul unui proces decizional rational;",
          "d) continutul deciziei cuprinde una, doua sau mai multe variante de actiune."
        ],
        correct: [0, 1, 2]
      },
      {
        question: "33. Relatiile (legaturile) structurale se stabilesc penrtu o organizatie publica:",
        answers: [
          "a) intre compartimente sau salariatii investiti cu autoritate formala;",
          "b) in cazul in care comunicarea informatiilor este reglementata juridic;",
          "c) ca urmare a necesitatii comunicarii intre compartimente;",
          "d) intre compartimente sau salariatii din organizatii publice diferite ale comunitatii."
        ],
        correct: [1, 2]
      },
      {
        question: "34. Structura organizatorica a unei institutii publice locale reprezinta:",
        answers: [
          "a) legaturile care se stabilesc intre ele in scopul atingerii obiectivelor;",
          "b) ansamblul persoanelor si compartimentelor functionale si modul in care sunt constituite;",
          "c) nivelul rezultatelor programate de sefii institutiei publice pentru un an;",
          "d) numarul de activitati planificate anual de catre conducere."
        ],
        correct: [0, 1]
      },
      {
        question: "35. Activitatea de lobby in cazul unei organizatii publice:",
        answers: [
          "a) are ca scop influentarea deciziilor puterii (Presedinte, Guvern, Parlament);",
          "b) este o forma de manifestare a procesului decizional;",
          "c) se realizeaza prin mijloacele specifice relatiilor publice;",
          "d) se desfasoara pentru luarea in discutie a unor probleme de interes public."
        ],
        correct: [0, 2, 3]
      }
    ];

    let currentQ = 0;
    let correctCount = 0;
    let streak = 0;
    let isAnswered = false;

    // Elemente DOM
    const qText = document.getElementById("q-text");
    const qNum = document.getElementById("q-number");
    const answersList = document.getElementById("answers-list");
    const actionBtn = document.getElementById("action-btn");
    const learnBtn = document.getElementById("learn-btn");
    const streakEl = document.getElementById("streak-count");
    const timerBar = document.getElementById("timer-bar");

    // Init
    function initQuiz() {
      currentQ = 0;
      correctCount = 0;
      streak = 0;
      updateStreakUI();
      loadQuestion();
    }

    function loadQuestion() {
      isAnswered = false;
      actionBtn.innerText = "VERIFICÄ‚";
      actionBtn.onclick = handleAction;
      actionBtn.style.display = "block";
      learnBtn.style.display = "block";
      
      // Update Timer Animation (reset)
      timerBar.style.transition = "none";
      timerBar.style.transform = "scaleX(1)";
      setTimeout(() => {
        timerBar.style.transition = "transform 60s linear";
        timerBar.style.transform = "scaleX(0)";
      }, 100);

      const q = questions[currentQ];
      qNum.innerText = `ÃŽntrebarea ${currentQ + 1} / ${questions.length}`;
      qText.innerText = q.question.replace(/^\d+\.\s*/, '');
      
      answersList.innerHTML = "";
      
      q.answers.forEach((ans, i) => {
        const div = document.createElement("label");
        div.className = "answer-option";
        div.innerHTML = `
          <input type="checkbox" name="ans" value="${i}">
          <div class="custom-check"></div>
          <span class="ans-text">${ans}</span>
        `;
        // Toggle selection visual
        div.querySelector("input").addEventListener("change", function() {
          if(this.checked) div.classList.add("selected");
          else div.classList.remove("selected");
        });
        answersList.appendChild(div);
      });
    }

    function handleAction() {
      if (!isAnswered) {
        checkAnswer();
      } else {
        nextQuestion();
      }
    }

    function checkAnswer() {
      const checked = Array.from(document.querySelectorAll('input[name="ans"]:checked'));
      if (checked.length === 0) return; // Nu face nimic daca nu e selectat

      isAnswered = true;
      const userIdx = checked.map(c => parseInt(c.value)).sort();
      const correctIdx = questions[currentQ].correct.slice().sort();

      const isCorrect = JSON.stringify(userIdx) === JSON.stringify(correctIdx);

      // Disable inputs
      document.querySelectorAll("input").forEach(i => i.disabled = true);
      document.querySelectorAll(".answer-option").forEach(opt => opt.style.pointerEvents = "none");

      // Show Results
      const options = document.querySelectorAll(".answer-option");
      options.forEach((opt, i) => {
        const input = opt.querySelector("input");
        
        if (correctIdx.includes(i)) {
          opt.classList.add("correct");
        }
        if (input.checked && !correctIdx.includes(i)) {
          opt.classList.add("wrong");
        }
      });

      if (isCorrect) {
        correctCount++;
        streak++;
        actionBtn.innerText = "CORECT! CONTINUÄ‚";
        actionBtn.style.background = "var(--correct)";
      } else {
        streak = 0;
        actionBtn.innerText = "GREÈ˜IT... CONTINUÄ‚";
        actionBtn.style.background = "var(--wrong)";
      }

      updateStreakUI();
      actionBtn.onclick = nextQuestion;
      learnBtn.style.display = "none";
    }

    function triggerLearnMode() {
      isAnswered = true;
      const correctIdx = questions[currentQ].correct;
      
      document.querySelectorAll(".answer-option").forEach((opt, i) => {
        if (correctIdx.includes(i)) {
          opt.classList.add("correct");
        }
        opt.style.pointerEvents = "none";
        opt.querySelector("input").disabled = true;
      });

      streak = 0; // Penalizare streak pt learn mode
      updateStreakUI();
      
      actionBtn.innerText = "URMÄ‚TOAREA";
      actionBtn.style.background = "var(--accent)";
      actionBtn.onclick = nextQuestion;
      learnBtn.style.display = "none";
    }

    function nextQuestion() {
      currentQ++;
      // Reset Button Style
      actionBtn.style.background = "var(--accent)";
      
      if (currentQ < questions.length) {
        loadQuestion();
      } else {
        showResults();
      }
    }

    function showResults() {
      const percent = Math.round((correctCount / questions.length) * 100);
      const container = document.getElementById("quiz-container");
      
      // Trigger Confetti if good score
      if(percent >= 50) fireConfetti();

      let msg = percent > 80 ? "EÈ™ti genial! ðŸš€" : "Bun, dar mai poÈ›i! ðŸ’ª";

      container.innerHTML = `
        <div class="result-view">
          <div class="score-circle">
            <span style="z-index:2; color:white;">${percent}%</span>
          </div>
          <h1 style="margin:0;">${msg}</h1>
          <p style="color:var(--text-muted); font-size:1.2rem; margin-top:10px;">
            Ai rÄƒspuns corect la ${correctCount} din ${questions.length} Ã®ntrebÄƒri.
          </p>
          <div class="controls" style="margin-top:40px;">
             <button class="btn btn-secondary" onclick="location.href='index.html'">Meniu</button>
             <button class="btn btn-primary" onclick="location.reload()">Din Nou</button>
          </div>
        </div>
      `;
    }

    function updateStreakUI() {
      streakEl.innerText = streak;
      if(streak > 2) streakEl.parentElement.style.background = "rgba(245, 158, 11, 0.4)";
      else streakEl.parentElement.style.background = "rgba(245, 158, 11, 0.15)";
    }

    function fireConfetti() {
      const colors = ['#6366f1', '#10b981', '#f59e0b', '#ec4899'];
      for (let i = 0; i < 50; i++) {
        const conf = document.createElement('div');
        conf.className = 'confetti';
        conf.style.left = Math.random() * 100 + 'vw';
        conf.style.top = -10 + 'px';
        conf.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
        conf.style.animationDuration = (Math.random() * 3 + 2) + 's';
        document.body.appendChild(conf);
      }
    }

    // Start
    initQuiz();

  </script>
</body>
</html>