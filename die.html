
<!DOCTYPE html>
<html lang="ro">
<head>
  <meta charset="UTF-8">
  <title>MSP</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;500;700&display=swap" rel="stylesheet">
  
  <style>
:root {
      --bg-dark: #0f172a;
      --card-dark: #1e293b;
      /* Po»õi schimba culoarea accentului √Æn func»õie de materie */
      --accent: #2563eb; 
      --accent-glow: #60a5fa;
      --correct: #10b981;
      --wrong: #ef4444;
      --warning: #f59e0b;
      --text-main: #f8fafc;
      --text-muted: #94a3b8;
      --radius: 24px;
    }

    * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

    body {
      margin: 0;
      padding: 0;
      font-family: 'Outfit', sans-serif;
      background-color: var(--bg-dark);
      color: var(--text-main);
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      overflow-x: hidden;
      /* Fundal generic - se poate personaliza per fi»ôier */
      background-image: 
        radial-gradient(circle at 10% 20%, rgba(37, 99, 235, 0.15) 0%, transparent 25%),
        radial-gradient(circle at 90% 80%, rgba(16, 185, 129, 0.1) 0%, transparent 25%);
    }

    /* --- BARA DE SUS (NAVIGARE) --- */
    .top-bar {
      width: 100%;
      max-width: 700px;
      padding: 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      z-index: 10;
      position: relative; /* Esen»õial pentru centrarea sƒÉge»õilor */
    }

    .back-btn {
      background: rgba(255,255,255,0.1);
      border: none;
      color: var(--text-main);
      width: 44px;
      height: 44px;
      border-radius: 12px;
      font-size: 1.2rem;
      cursor: pointer;
      display: grid;
      place-items: center;
      transition: 0.2s;
      text-decoration: none;
    }
    .back-btn:hover { background: rgba(255,255,255,0.2); }

    /* Containerul pentru sƒÉge»õi (Centrat Absolut) */
    .nav-mini-container {
      display: flex;
      gap: 15px;
      position: absolute;
      left: 50%;
      transform: translateX(-50%);
    }

    .btn-nav-mini {
      background: rgba(255, 255, 255, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.15);
      color: var(--text-main);
      width: 44px;
      height: 44px;
      border-radius: 12px;
      cursor: pointer;
      display: grid;
      place-items: center;
      font-size: 1.2rem;
      transition: all 0.2s;
      backdrop-filter: blur(5px);
    }
    .btn-nav-mini:hover {
      background: rgba(255, 255, 255, 0.25);
      transform: scale(1.05);
      border-color: var(--text-main);
    }
    .btn-nav-mini:disabled {
      opacity: 0.3;
      cursor: not-allowed;
      transform: none;
    }

    .streak-container {
      display: flex;
      align-items: center;
      gap: 6px;
      background: rgba(255, 255, 255, 0.1);
      padding: 8px 16px;
      border-radius: 20px;
      font-weight: 700;
      font-size: 0.9rem;
      border: 1px solid rgba(255, 255, 255, 0.2);
    }

    /* --- ZONA DE QUIZ --- */
    .quiz-container {
      width: 100%;
      max-width: 650px;
      flex: 1;
      display: flex;
      flex-direction: column;
      padding: 10px 20px 40px;
      position: relative;
    }

    .timer-wrapper {
      width: 100%;
      height: 6px;
      background: #334155;
      border-radius: 10px;
      margin-bottom: 20px;
      overflow: hidden;
    }
    .timer-bar {
      height: 100%;
      width: 100%;
      background: linear-gradient(90deg, var(--accent), var(--accent-glow));
      border-radius: 10px;
      transform-origin: left;
    }

    .question-card {
      background: var(--card-dark);
      border-radius: var(--radius);
      padding: 30px;
      box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
      border: 1px solid rgba(255,255,255,0.05);
      animation: fadeInScale 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
      margin-bottom: 20px;
    }

    .q-number { color: var(--text-muted); font-size: 0.85rem; text-transform: uppercase; letter-spacing: 1.5px; margin-bottom: 10px; font-weight: 700; }
    .q-text { font-size: 1.25rem; line-height: 1.5; font-weight: 600; margin: 0 0 15px 0; }

    .answers-list { display: flex; flex-direction: column; gap: 12px; }
    
    .answer-option {
      position: relative;
      background: rgba(255,255,255,0.03);
      border: 2px solid rgba(255,255,255,0.08);
      padding: 18px 20px;
      border-radius: 16px;
      cursor: pointer;
      transition: all 0.2s;
      display: flex;
      align-items: flex-start;
      gap: 15px;
      font-size: 1rem;
    }
    .answer-option:hover { background: rgba(255,255,255,0.06); border-color: rgba(255,255,255,0.2); }
    
    .custom-check {
      width: 24px; height: 24px; border: 2px solid var(--text-muted); border-radius: 8px; flex-shrink: 0; display: grid; place-items: center; margin-top: 2px;
    }
    .custom-check::after { content: '‚úî'; font-size: 14px; color: #fff; transform: scale(0); transition: 0.2s; }
    input[type="checkbox"] { display: none; }
    
    input:checked + .custom-check { background: var(--accent); border-color: var(--accent); }
    input:checked + .custom-check::after { transform: scale(1); }
    
    /* StƒÉri speciale pentru rƒÉspunsuri */
    .answer-option.selected { background: rgba(255, 255, 255, 0.1); border-color: var(--accent); }
    
    .answer-option.correct { background: rgba(16, 185, 129, 0.15) !important; border-color: var(--correct) !important; }
    .answer-option.correct .custom-check { background: var(--correct) !important; border-color: var(--correct) !important; }

    .answer-option.wrong { background: rgba(239, 68, 68, 0.15) !important; border-color: var(--wrong) !important; animation: shake 0.4s ease; }
    .answer-option.wrong .custom-check { background: var(--wrong) !important; border-color: var(--wrong) !important; }
    .answer-option.wrong .custom-check::after { content: '‚úñ'; }
    .nav-mini-container {
      display: flex;
      gap: 15px;
      position: absolute;
      left: 50%;
      transform: translateX(-50%);
      z-index: 9999; /* <--- Asta e cheia! Le for»õeazƒÉ sƒÉ fie deasupra tuturor */
      pointer-events: auto; /* Se asigurƒÉ cƒÉ primesc click-uri */
    }
    .top-bar {
      /* ... alte reguli ... */
      position: relative;
      z-index: 1000;
    }

    /* --- CONTROLS (JOS) --- */
    .controls { display: flex; gap: 15px; margin-top: auto; }
    
    .btn { flex: 1; padding: 18px; border-radius: 16px; border: none; font-family: inherit; font-weight: 700; font-size: 1rem; cursor: pointer; text-transform: uppercase; letter-spacing: 1px; transition: 0.2s; }
    
    .btn-primary { background: var(--accent); color: white; box-shadow: 0 4px 0 rgba(0,0,0,0.2); }
    .btn-primary:active { transform: translateY(2px); box-shadow: none; }
    
    .btn-learn { background: rgba(255, 255, 255, 0.05); color: var(--warning); border: 1px solid var(--warning); }
    .btn-secondary { background: transparent; border: 2px solid var(--text-muted); color: var(--text-muted); }

    /* --- REZULTATE --- */
    .result-view { text-align: center; padding: 40px 20px; animation: slideUp 0.5s ease; }
    .score-circle { width: 180px; height: 180px; border-radius: 50%; border: 8px solid var(--card-dark); background: conic-gradient(var(--accent) 0%, var(--card-dark) 0%); margin: 0 auto 30px; display: grid; place-items: center; font-size: 3.5rem; font-weight: 800; position: relative; box-shadow: 0 0 30px rgba(0,0,0,0.3); }
    .score-circle::before { content: ''; position: absolute; inset: 10px; background: var(--bg-dark); border-radius: 50%; z-index: -1; }

    .hidden { display: none !important; }
    @keyframes fadeInScale { from { opacity: 0; transform: scale(0.95); } to { opacity: 1; transform: scale(1); } }
    @keyframes slideUp { from { opacity: 0; transform: translateY(40px); } to { opacity: 1; transform: translateY(0); } }
    @keyframes shake { 0%, 100% { transform: translateX(0); } 25% { transform: translateX(-8px); } 75% { transform: translateX(8px); } }
    
    .confetti { position: fixed; width: 10px; height: 10px; background-color: #f00; animation: fall linear forwards; z-index: 100; }
    @keyframes fall { to { transform: translateY(100vh) rotate(720deg); } }
    /* --- ZONA DE REVIEW (GRE»òELI) --- */
    #review-section {
      width: 100%;
      margin-top: 30px;
      display: none; /* Ascuns ini»õial */
      text-align: left;
    }
    .review-card {
      background: rgba(0, 0, 0, 0.2);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 16px;
      padding: 20px;
      margin-bottom: 20px;
    }
    .review-q-title {
      font-weight: 700;
      margin-bottom: 15px;
      color: var(--text-main);
      font-size: 1.1rem;
    }
    .review-option {
      padding: 10px;
      border-radius: 8px;
      margin-bottom: 8px;
      font-size: 0.95rem;
      display: flex;
      gap: 10px;
      opacity: 0.9;
    }
    /* Culori statice pentru review */
    .review-correct { background: rgba(16, 185, 129, 0.2); border: 1px solid var(--correct); }
    .review-wrong { background: rgba(239, 68, 68, 0.2); border: 1px solid var(--wrong); }
    .review-neutral { background: rgba(255, 255, 255, 0.05); }
  </style>
</head>
<body>

<div class="top-bar">
    <a href="index.html" class="back-btn">‚úï</a>
    <div class="nav-mini-container">
      <button class="btn-nav-mini" id="prev-btn" onclick="prevQuestion()">‚¨ÖÔ∏è</button>
      <button class="btn-nav-mini" id="next-btn" onclick="nextQuestion()">‚û°Ô∏è</button>
    </div>
    <div class="streak-container">
      <span id="streak-icon">üî•</span>
      <span id="streak-count">0</span>
    </div>
  </div>
  </div>

  <div class="quiz-container" id="quiz-container">
    <div class="timer-wrapper"><div class="timer-bar" id="timer-bar"></div></div>

    <div class="question-card" id="question-card">
      <div class="q-number" id="q-number">√éntrebarea 1</div>
      <p class="q-text" id="q-text">Se √ÆncarcƒÉ...</p>
      <div class="answers-list" id="answers-list"></div>
    </div>

    <div class="controls">
      <button class="btn btn-learn" id="learn-btn" onclick="triggerLearnMode()">üëÄ √énva»õƒÉ</button>
      <button class="btn btn-primary" id="action-btn" onclick="handleAction()">VerificƒÉ</button>
    </div>
  </div>

  <script>
    const questions = [
      {
        question: "1. Perioada de tranzi»õie:",
        answers: ["a) este o excep»õie permanentƒÉ de la aplicarea normelor Uniunii √Æntr-un domeniu precis determinat", "b) este o excep»õie cu caracter temporar de la aplicarea normelor comunitare √Æntr-un domeniu precis determinat, √ÆnscrisƒÉ √Æn tratatul de aderare", "c) se stabile»ôte pentru o duratƒÉ de timp limitatƒÉ"],
        correct: [1, 2] 
      },
      {
        question: "2. Acordurile interna»õionale pot lua diverse forme, printre care:",
        answers: ["a) acorduri de cooperare", "b) acorduri comerciale", "c) acorduri de asociere"],
        correct: [0, 1, 2] // Toate sunt forme valide de acorduri externe ale UE
      },
      {
        question: "3. Atribu»õiile bugetare ale Parlamentului European se referƒÉ la:",
        answers: ["a) implicarea √Æn procedura adoptƒÉrii planului bugetar", "b) descƒÉrcarea cu privire la execu»õia bugetului Uniunii", "c) poate respinge sau modifica cheltuielile din cadrul bugetului Uniunii", "d) faptul cƒÉ Parlamentul are votul definitiv privind bugetul"],
        correct: [0, 1, 2, 3] // DupƒÉ Lisabona, PE are puteri bugetare depline alƒÉturi de Consiliu
      },
      {
        question: "4. Curtea de Justi»õie are competen»õe de naturƒÉ:",
        answers: ["a) penalƒÉ", "b) administrativƒÉ", "c) civilƒÉ"],
        correct: [1, 2] // CJUE judecƒÉ legalitatea actelor (admin) »ôi litigii civile/comerciale, nu penal direct
      },
      {
        question: "5. Principiul subsidiaritƒÉ»õii este consacrat, √Æn dreptul Uniunii Europene, √Æn:",
        answers: ["a) Tratatul de la Paris din 1951 instituind C.E.C.O.", "b) Tratatul de la Lisabona", "c) Tratatul asupra Uniunii Europene de la Maastricht"],
        correct: [2] // Introdus formal la Maastricht
      },
      {
        question: "6. Comisia EuropeanƒÉ are atribu»õii precum:",
        answers: ["a) reprezentarea Uniunii Europene pe plan interna»õional (cu excep»õia PESC)", "b) rolul de \"Gardian\" al respectƒÉrii tratatelor", "c) exercitarea func»õiei legislative (ini»õiativƒÉ)"],
        correct: [0, 1]
      },
      {
        question: "7. Curtea de Conturi:",
        answers: ["a) membrii Cur»õii de Conturi sunt numi»õi pentru o perioadƒÉ de zece ani", "b) asigurƒÉ controlul conturilor Uniunii (control financiar)", "c) √Æn √Ændeplinirea √Ændatoririlor lor, membrii acceptƒÉ instruc»õiuni de la guverne"],
        correct: [1] // Mandatul e de 6 ani (nu 10), sunt independen»õi (nu acceptƒÉ instruc»õiuni)
      },
      {
        question: "8. Competen»õa de a primi peti»õii (sesizƒÉri) din partea cetƒÉ»õenilor europeni revine:",
        answers: ["a) Cur»õii Europene", "b) Parlamentului European", "c) Ombudsmanului European", "d) Comisiei Europene"],
        correct: [1] // Dreptul la peti»õie e cƒÉtre Parlament
      },
      {
        question: "9. Potrivit tratatului sƒÉu institutiv (Maastricht), Uniunea EuropeanƒÉ a fost consolidatƒÉ pe piloni:",
        answers: ["a) politica externƒÉ »ôi de securitate comunƒÉ (Pilonul 2)", "b) cooperarea administrativƒÉ", "c) ComunitƒÉ»õile Europene (Pilonul 1)"],
        correct: [0, 2] // Plus JAI (Pilonul 3)
      },
      {
        question: "10. Aplicabilitatea directƒÉ a regulamentului european:",
        answers: ["a) particularii pot invoca imediat normele √Æn fa»õa altor particulari (efect orizontal)", "b) particularii pot invoca imediat normele √Æn fa»õa autoritƒÉ»õilor na»õionale (efect vertical)", "c) implicƒÉ faptul cƒÉ normele genereazƒÉ, √Æn mod automat, drepturi »ôi obliga»õii"],
        correct: [0, 2] // Regulamentul are efect direct complet »ôi aplicabilitate imediatƒÉ
      },
      {
        question: "11. CetƒÉ»õenia europeanƒÉ conferƒÉ o serie de drepturi cetƒÉ»õenilor europeni, cum sunt:",
        answers: ["a) dreptul de a vota »ôi de a candida la alegerile pentru Parlamentul European", "b) dreptul de acces la documentele organismelor Uniunii", "c) dreptul la bunƒÉ administrare", "d) dreptul de a locui »ôi de a circula liber pe teritoriul Uniunii"],
        correct: [0, 1, 2, 3]
      },
      {
        question: "12. Banca CentralƒÉ EuropeanƒÉ:",
        answers: ["a) √Ændepline»ôte func»õia monetarƒÉ »ôi legislativƒÉ", "b) are misiunea de a coordona politica monetarƒÉ pentru zona euro", "c) in situatiile in care existƒÉ litigii intre BCE si creditorii/debitorii acesteia sau orice altƒÉ persoanƒÉ, trimise in scris cƒÉtre Curtea de Justitie a Uniunii Europene"],
        correct: [2] // Nu are func»õie legislativƒÉ generalƒÉ
      },
      {
        question: "13. Principiile care guverneazƒÉ rela»õia dreptul UE - dreptul statelor membre sunt:",
        answers: ["a) principiul efectului direct al dreptului UE", "b) principiul complementaritƒÉ»õii", "c) principiul prioritƒÉ»õii aplicƒÉrii dreptului UE"],
        correct: [0, 2]
      },
      {
        question: "14. √én decursul evolu»õiei Uniunii Europene au aderat la aceasta:",
        answers: ["a) Grecia (1981)", "b) Portugalia, Italia »ôi Spania", "c) Marea Britanie, Irlanda, Danemarca »ôi Norvegia"],
        correct: [0] // Italia e fondator, Norvegia nu a aderat
      },
      {
        question: "15. Normele dreptului UE prevƒÉd urmƒÉtoarele tipuri de proceduri √Æn fa»õa Cur»õii de Justi»õie:",
        answers: ["a) recursul »ôi apelul subiec»õilor priva»õi (limitat)", "b) ac»õiunea √Æn constatarea √Ændeplinirii obliga»õiilor (infringement)", "c) procedura √ÆntrebƒÉrilor preliminare"],
        correct: [2]
      },
      {
        question: "16. Europarlamentarilor le revin urmƒÉtoarele obliga»õii/drepturi:",
        answers: ["a) plata primelor de asigurare", "b) obliga»õia de a nu tulbura »ôedin»õa parlamentarƒÉ", "c) dreptul de a face propuneri legislative (indirect)"],
        correct: [1, 2] // Selectat pe baza logicii, textul original era trunchiat
      },
      {
        question: "17. Pre»ôedin»õia Consiliului are urmƒÉtoarele func»õii esen»õiale:",
        answers: ["a) asigurarea continuƒÉrii activitƒÉ»õilor si a negocierilor in curs incepute in timpul pre»ôedin»õiei precedente si  pregƒÉtirea pre»ôedin»õiei urmatoare, pentru a le prelua", "b) reprezentarea Consiliului at√¢t in activitatea sa cu alte institutii si organisme ale UE, c√¢t si la nivel international (de exemplu cadrul Natiunilor Unite sau √Æn cadrul Organizatiei Mondiale a Comertului)", "c) organizarea si conducerea reuniunilor Consiliului si a grupurilor sale de lucru, precum si elaborarea de  compromisuri susceptibile de a rezolva problemele existente"],
        correct: [0, 1, 2]
      },
      {
        question: "18.Potrivit prevederilor tratatului sƒÉu constitutiv (TUE), Uniunea EuropeanƒÉ a fost conceputƒÉ ca o structurƒÉ de colaborare ce au la bazƒÉ urmƒÉtorii piloni:",
        answers: ["a) Cooperarea poli»õieneascƒÉ »ôi judiciarƒÉ √Æn materie penalƒÉ", "b) Politica externƒÉ »ôi de securitate comunƒÉ (PESC)", "c) ComunitƒÉ»õile Europene", "d) √Ænfiin»õarea institu»õiilor europene"],
        correct: [0, 1, 2]
      },
      {
        question: "19. Comisia EuropeanƒÉ are ca principale atribu»õii:",
        answers: ["a) analiza propunerilor cetƒÉ»õenilor", "b) aplicarea legisla»õiei Uniunii (executiv)", "c) aplicarea politicilor Uniunii", "d) punerea √Æn aplicare a bugetului Uniunii"],
        correct: [1, 2, 3]
      },
      {
        question: "20. Consiliul are urmƒÉtoarele atribu»õii fundamentale:",
        answers: ["a) partajeazƒÉ puterea legislativƒÉ cu Parlamentul", "b) asigurƒÉ coordonarea politicilor economice generale", "c) este responsabil cu execu»õia bugetului (√ÆmpreunƒÉ cu PE)"],
        correct: [1]
      },
      {
        question: "21. Tratatul asupra Uniunii Europene:",
        answers: ["a) pornind de la acest tratat se vorbe»ôte de construc»õia pe trei piloni", "b) are ca obiectiv crearea uniunii economice »ôi monetare", "c) a schimbat denumirea ComunitƒÉ»õii economice europene √Æn Comunitatea EuropeanƒÉ", "d) Mai este cunoscut »ôi ca Tratatul de la Maastricht"],
        correct: [0, 1, 2, 3]
      },
      {
        question: "22. Curtea EuropeanƒÉ de Conturi:",
        answers: ["a) membrii sunt numi»õi de Comisia EuropeanƒÉ", "b) este o institu»õie de control financiar extern", "c) adoptƒÉ avize sau rapoarte anuale, cu majoritatea membrilor care o compun", "d) membrii sunt numi»õi de Consiliul Uniunii Europene"],
        correct: [1, 2, 3]
      },
      {
        question: "23. Consiliul Uniunii Europene reprezintƒÉ:",
        answers: ["a) interesele statelor membre", "b) interesele Uniunii Europene", "c) interesele cetƒÉ»õenilor"],
        correct: [0] // Comisia reprezintƒÉ UE, PE cetƒÉ»õenii
      },
      {
        question: "24. Consiliul are competen»õe precum:",
        answers: ["a) √Æncheie acordurile interna»õionale ale UE", "b) punerea √Æn aplicare a politicii externe »ôi de securitate comunƒÉ", "c) atribu»õii de control asupra executivului european", "d) investirea pe domenii de activitate a membrilor Comisiei Europene"],
        correct: [0, 1]
      },
      {
        question: "25. Tratatul asupra Uniunii Europene (TUE, 1992), a avut urmƒÉtoarele obiective principale:",
        answers: ["a) realizarea uniunii monetare prin stabilirea principiilor »ôi regulilor pentru punerea √Æn circula»õie a monedei unice EURO", "b) politica externƒÉ »ôi de securitate comunƒÉ", "c) crearea unei uniuni economice »ôi politice"],
        correct: [0, 1, 2]
      },
      {
        question: "26. Este √Æn competen»õa Consiliului:",
        answers: ["a) politica externƒÉ »ôi de securitate comunƒÉ", "b) adoptarea de acte juridice normative", "c) politica privind afacerile interne »ôi justi»õia", "d) definirea politicilor Uniunii »ôi coordonarea acestora"],
        correct: [0, 1, 2]
      },
      {
        question: "27. ActivitƒÉ»õile Parlamentului European se desfƒÉ»ôoarƒÉ la:",
        answers: ["a) Luxembourg (Secretariat)", "b) Strasbourg (Sediul oficial, plenare)", "c) Bruxelles (Comisii, mini-sesiuni)"],
        correct: [0, 1, 2]
      },
      {
        question: "28. Func»õia executivƒÉ la nivelul Uniunii apar»õine, √Æn principal:",
        answers: ["a) Cur»õii de Conturi", "b) Comisiei Europene", "c) Consiliului", "d) Parlamentului European"],
        correct: [1]
      },
      {
        question: "29. Competen»õa jurisdic»õionalƒÉ vizeazƒÉ:",
        answers: ["a) adoptarea de acte", "b) activitatea de solu»õionare a litigiilor (CJUE)", "c) punerea √Æn aplicare a legisla»õiei"],
        correct: [1]
      },
      {
        question: "30. Principiul subsidiaritƒÉ»õii vizeazƒÉ:",
        answers: ["a) √Æn domeniile care nu relevƒÉ competen»õa sa exclusivƒÉ, Comunitatea nu intervine dec√¢t dacƒÉ obiectivele actiunii avute in vedere nu pot fi realizate de o manierƒÉ suficientƒÉ de statele membre si pot fi mai bine realizate la nivel comunitar", "b) fiecare nivel de putere nu trebuie sƒÉ aiba alte competente dec√¢t cele pe care este in mƒÉsura sƒÉ leexercite", "c) modul de ac»õiune al Uniunii nu trebuie sƒÉ depƒÉ»ôeascƒÉ ceea ce e necesar pentru atingerea obiectivelor din tratate."],
        correct: [0]
      },
      {
        question: "31. Curtea de Conturi:",
        answers: ["a) se reune»ôte in colegiul complet de 27 de membri in »ôedin»õe anual, pentru a dezbate si a adopta diferite documente", "b) fiecare camera are douƒÉ domenii de responsabilitate", "c) este organizatƒÉ in cinci camere, in cadrul cƒÉrora sunt repartiza»õi membrii Curtii si personalul de audit"],
        correct: [2]
      },
      {
        question: "32. Dreptul primar al UE este:",
        answers: ["a) fundamentat pe textul celor trei tratate originare care au pus bazele ComunitƒÉ»õilor Europene", "b) cuprinde norme juridice emise in baza tratatelor constitutive si cu respectarea procedurilor expres prevƒÉzute de aceste tratate", "c) constituit din norme incluse in tratatele constitutive, cele modificatoare si tratatele de aderare"],
        correct: [0, 2]
      },
      {
        question: "33. √én procesul de ini»õiere »ôi adoptare a bugetului uniunii participƒÉ:",
        answers: ["a) Consiliul Uniunii Europene", "b) Comisia EuropeanƒÉ", "c) Parlamentul European"],
        correct: [0, 1, 2]
      },
      {
        question: "34. Au calitate de state fondatoare:",
        answers: ["a) Germania, Belgia, Luxemburg", "b) Fran»õa, Olanda, Italia", "c) Austria, Germania, Italia"],
        correct: [0, 1] // Austria a aderat √Æn 1995
      },
      {
        question: "35. Care afirma»õii referitoare la Tribunalul UE sunt adevƒÉrate?",
        answers: ["a) are in componen»õƒÉ judecatori si avoca»õi generali", "b) solu»õioneazƒÉ doar recursurile", "c) a luat fiin»õƒÉ pe baza prevedenlor cuprinse in Actul Unic European si si-a inceput activitatea in 1989", "d) rolul avoca»õilor generali poate fi indeplinit de orice judecƒÉtor de la Tribunal, cu excep»õia pre»ôedintelui"],
        correct: [0, 2]
      },
      {
        question: "36. Izvoarele derivate ale Uniunii sunt:",
        answers: ["a) Acordul Schengen", "b) Regulamentul", "c) Actul Unic", "d) Directiva"],
        correct: [1, 3]
      },
      {
        question: "37. Decizile in cadrul Politicii Externe si de Securitate ComunƒÉ sunt stabilite de:",
        answers: ["a) Consiliul Europei", "b) Consiliul UE (implementeazƒÉ)", "c) Consiliul European (define»ôte direc»õiile)"],
        correct: [1, 2] // Consiliul European traseazƒÉ liniile, Consiliul ia deciziile formale
      },
      {
        question: "38. √éntrebƒÉrile parlamentarilor europeni:",
        answers: ["a) reprezintƒÉ un mijloc de control asupra activitƒÉ»õilor Comisiei si Consiliului", "b) pot fi √ÆntrebƒÉri scrise", "c) pot fi √ÆntrebƒÉri orale", "d)√éntrebƒÉrile scrise si rƒÉspunsurile la √ÆntrebƒÉri scrise sunt publicate in Jurnalul Oficial al UE"],
        correct: [0, 1, 2, 3]
      },
      {
        question: "39. Concluziile avoca»õilor generali:",
        answers: ["a) fac parte integrantƒÉ din procedura √Æn fa»õa UE", "b) nu sunt publice", "c) sunt publicate impreuna cu incheierile Curtii sau ale Tribunalului de la prima instanta in revista de jursprudenta ", "d)fac parte integranta din procedura orala "],
        correct: [0, 2, 3]
      },
      {
        question: "40. Prin Tratatul de la Amsterdam (1997) au fost aduse urm√§toarele modificƒÉri √Æn sistemul reglementƒÉrilor la nivelul UE:",
        answers: ["a)realizarea unei uniuni monetare prin stabilirea principiilor si regulilor pentru punerea √Æn circula»õie a monedei unice EURO", "b) modficarea ponderii voturilor in structura institu»õiilor", "c) aplicarea procedurii codeciziei la noi materii, fapt care a determinat cresterea cazurilor in care Consiliul Uniunii Europene poate decide cu majoritatea calificatƒÉ si nu in unanimitate"],
        correct: [2]
      },
      {
        question: "41. La nivelul Uniunii Europene, notiunea de extindere poate cƒÉpƒÉta urmƒÉtoarele intelesuri:",
        answers: ["a) sub aspect cantitativ, vizeazƒÉ o incorporare de noi state membre in cadrul UE", "b) extinderea zonei de influen»õƒÉ a monedei euro", "c) sub aspect calitativ, are in vedere lƒÉrgirea domeniilor de rela»õii sociale in care statele conferƒÉ competentƒÉ institu»õiilor Uniunii"],
        correct: [0, 2]
      },
      {
        question: "42. √én decursul evolu»õiei comunitƒÉ»õii europene »ôi a Uniunii Europene au existat:",
        answers: ["a) cinci valuri", "b) »ôapte valuri", "c) trei valuri"],
        correct: [1] // 73, 81, 86, 95, 04, 07, 13
      },
      {
        question: "43. Competenta de control »ôi supraveghere asupra activitƒÉ»õi institu»õiilor Uniunii Europene revine, inprincipal:",
        answers: ["a) Comisiei", "b) Cur»õii de Justi»õie", "c) Consiliului European", "d) Parlamentului European"],
        correct: [3]
      },
      {
        question: "44. Sunt induse √Æn categoria izvoarelor derivate de drept european:",
        answers: ["a) tratatele constituitive »ôi tratatele modificatoare", "b) regulamentul »ôi directivele europene", "c) deciziile"],
        correct: [1, 2]
      },
      {
        question: "45. Care dintre urmƒÉtoarele Consilii reprezinta institu»õii ale Uniunii Europene:",
        answers: ["a) Consiliul European", "b) Consiliul de ApƒÉrare √Æmotriva retorismului"],
        correct: [0]
      }
    ];


// --- 1. CONFIGURARE BAZƒÇ DE DATE ---
    // (Aici trebuie sƒÉ fie lista ta 'const questions = [...]')
    
    // --- 2. VARIABILE GLOBALE ---
    let currentQ = 0;
    let totalScore = 0;
    let streak = 0;
    
    // Aici »õinem minte ordinea amestecatƒÉ a √ÆntrebƒÉrilor
    let shuffledQuestions = [];
    
    // Aici »õinem minte ISTORICUL (ce ai rƒÉspuns, ordinea variantelor etc.)
    let quizState = []; 

    // Referin»õe la elementele din HTML
    const qText = document.getElementById("q-text");
    const qNum = document.getElementById("q-number");
    const answersList = document.getElementById("answers-list");
    const actionBtn = document.getElementById("action-btn");
    const learnBtn = document.getElementById("learn-btn");
    const streakEl = document.getElementById("streak-count");
    const timerBar = document.getElementById("timer-bar");
    const prevBtn = document.getElementById("prev-btn");
    const nextBtn = document.getElementById("next-btn");

    // --- 3. FUNC»öII UTILITARE ---

    // Func»õia de amestecare (Fisher-Yates)
    function shuffleArray(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
      return array;
    }


    function initQuiz() {
      currentQ = 0;
      totalScore = 0;
      streak = 0;
      
      // AmestecƒÉm √ÆntrebƒÉrile la √Ænceput
      shuffledQuestions = JSON.parse(JSON.stringify(questions)); 
      shuffleArray(shuffledQuestions);

      // ResetƒÉm memoria goalƒÉ
      quizState = new Array(shuffledQuestions.length).fill(null);
      
      updateStreakUI();
      loadQuestion();
    }

    function loadQuestion() {
      // Navigare butoane (activare/dezactivare)
      prevBtn.disabled = (currentQ === 0);
      nextBtn.disabled = (currentQ === shuffledQuestions.length - 1);

      // Anima»õie Timer
      timerBar.style.transition = "none";
      timerBar.style.transform = "scaleX(1)";
      setTimeout(() => {
        timerBar.style.transition = "transform 60s linear";
        timerBar.style.transform = "scaleX(0)";
      }, 100);

      // LuƒÉm √Æntrebarea curentƒÉ
      const q = shuffledQuestions[currentQ];
      
      // CurƒÉ»õƒÉm textul √ÆntrebƒÉrii de numere (ex: "1. √éntrebare" -> "√éntrebare")
      let cleanQText = q.question.replace(/^\d+[\.\)]\s*/, '');
      
      qNum.innerText = `√éntrebarea ${currentQ + 1} / ${shuffledQuestions.length}`;
      qText.innerText = cleanQText;
      answersList.innerHTML = "";

      // VerificƒÉm memoria: Am mai fost aici?
      let currentState = quizState[currentQ];

      // DacƒÉ NU am mai fost, ini»õializƒÉm starea pentru aceastƒÉ √Æntrebare
      if (!currentState) {
        // CreƒÉm perechi {text, indexOriginal} »ôi le amestecƒÉm
        let answerPairs = q.answers.map((text, idx) => ({ text: text, originalIdx: idx }));
        shuffleArray(answerPairs);
        
        currentState = {
            answered: false,      // √éncƒÉ nu s-a rƒÉspuns
            answerOrder: answerPairs, // MemorƒÉm ordinea asta amestecatƒÉ
            selectedIdx: [],      // Nimic selectat
            score: 0,
            btnText: "VERIFICƒÇ",
            btnColor: "var(--accent)"
        };
        quizState[currentQ] = currentState;
      }

      // ConfigurƒÉm butonul principal
      actionBtn.innerText = currentState.btnText;
      actionBtn.style.background = currentState.btnColor;
      
      if (currentState.answered) {
          actionBtn.onclick = () => nextQuestion(); // DacƒÉ e gata, doar treci mai departe
          learnBtn.style.display = "none";
      } else {
          actionBtn.onclick = handleAction; // DacƒÉ nu, verificƒÉ
          learnBtn.style.display = "block";
      }

      // GenerƒÉm RƒÉspunsurile (Litere dinamice a, b, c...)
      const letters = ['a', 'b', 'c', 'd', 'e', 'f'];

      currentState.answerOrder.forEach((pair, domIndex) => {
        const div = document.createElement("label");
        div.className = "answer-option";
        
        // CurƒÉ»õƒÉm textul rƒÉspunsului (scoatem a), b) vechi)
        let cleanAnsText = pair.text.replace(/^[a-zA-Z0-9]+[\.\)]\s*/, '');
        let newLabel = letters[domIndex] + ") ";

        // VerificƒÉm dacƒÉ a fost bifat
        let isChecked = currentState.selectedIdx.includes(pair.originalIdx);

        div.innerHTML = `
          <input type="checkbox" name="ans" value="${pair.originalIdx}" ${isChecked ? "checked" : ""}>
          <div class="custom-check"></div>
          <span class="ans-text"><b>${newLabel}</b>${cleanAnsText}</span>
        `;

        // DacƒÉ s-a rƒÉspuns deja, blocƒÉm »ôi colorƒÉm
        if (currentState.answered) {
            div.style.pointerEvents = "none";
            div.querySelector("input").disabled = true;
            
            const isCorrect = q.correct.includes(pair.originalIdx);
            
            if (isCorrect) div.classList.add("correct");
            if (isChecked && !isCorrect) div.classList.add("wrong");
        } else {
            // DacƒÉ nu s-a rƒÉspuns, permitem click
            div.querySelector("input").addEventListener("change", function() {
              if(this.checked) div.classList.add("selected");
              else div.classList.remove("selected");
            });
        }
        
        if (isChecked && !currentState.answered) div.classList.add("selected");
        answersList.appendChild(div);
      });
    }

    function handleAction() {
      checkAnswer();
    }

    function checkAnswer() {
      const checked = Array.from(document.querySelectorAll('input[name="ans"]:checked'));
      if (checked.length === 0) return; 

      const userIdx = checked.map(c => parseInt(c.value));
      const q = shuffledQuestions[currentQ];
      const correctIdx = q.correct;

      // Calcul Punctaj
      let correctSelected = 0;
      let wrongSelected = 0;

      userIdx.forEach(idx => {
        if (correctIdx.includes(idx)) correctSelected++;
        else wrongSelected++;
      });

      let ratio = (correctSelected - wrongSelected) / correctIdx.length;
      if (ratio < 0) ratio = 0;

      const pointsPerQuestion = 10 / shuffledQuestions.length;
      const pointsEarned = ratio * pointsPerQuestion;
      
      totalScore += pointsEarned;

      // Feedback vizual buton
      let btnText = "";
      let btnColor = "";

      if (ratio === 1) {
        streak++;
        btnText = "CORECT! üëè";
        btnColor = "var(--correct)";
        setTimeout(() => { if(currentQ < shuffledQuestions.length - 1) nextQuestion(); }, 1200);
      } else {
        streak = 0;
        const pts = pointsEarned.toFixed(2);
        btnText = ratio > 0 ? `PAR»öIAL: +${pts}p` : "GRE»òIT: 0p";
        btnColor = ratio > 0 ? "var(--warning)" : "var(--wrong)";
      }

      // SALVƒÇM TOT √éN MEMORIE (Esen»õial pentru Review!)
      quizState[currentQ].answered = true;
      quizState[currentQ].selectedIdx = userIdx;
      quizState[currentQ].score = pointsEarned; // SalvƒÉm punctajul ca sƒÉ »ôtim dacƒÉ e gre»ôit
      quizState[currentQ].btnText = btnText;
      quizState[currentQ].btnColor = btnColor;

      updateStreakUI();
      loadQuestion(); // Re√ÆncƒÉrcƒÉm pentru a bloca interfa»õa
    }

    function triggerLearnMode() {
      // Modul √énva»õƒÉ
      quizState[currentQ].answered = true;
      quizState[currentQ].selectedIdx = [];
      quizState[currentQ].score = 0; 
      quizState[currentQ].btnText = "√éNVƒÇ»öARE";
      quizState[currentQ].btnColor = "var(--accent)";
      
      streak = 0;
      updateStreakUI();
      loadQuestion();
    }

    function prevQuestion() {
      if (currentQ > 0) {
        currentQ--;
        loadQuestion();
      }
    }

    function nextQuestion() {
      if (currentQ < shuffledQuestions.length - 1) {
        currentQ++;
        loadQuestion();
      } else {
        showResults();
      }
    }

    function updateStreakUI() {
      streakEl.innerText = streak;
      if(streak > 2) streakEl.parentElement.style.background = "rgba(255, 255, 255, 0.4)";
      else streakEl.parentElement.style.background = "rgba(255, 255, 255, 0.15)";
    }

    function fireConfetti() {
      const colors = ['#10b981', '#34d399', '#f59e0b', '#ffffff'];
      for (let i = 0; i < 50; i++) {
        const conf = document.createElement('div');
        conf.className = 'confetti';
        conf.style.left = Math.random() * 100 + 'vw';
        conf.style.top = -10 + 'px';
        conf.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
        conf.style.animationDuration = (Math.random() * 3 + 2) + 's';
        document.body.appendChild(conf);
      }
    }

    // --- 5. LOGICA DE FINAL & REVIEW (Aici era problema ta) ---

    function showResults() {
      const container = document.getElementById("quiz-container");
      const finalGrade = totalScore.toFixed(2);
      
      if(totalScore >= 5) fireConfetti();
      
      let msg = "";
      if (totalScore >= 9) msg = "Excelent! üåü";
      else if (totalScore >= 7) msg = "Foarte bine! üëè";
      else if (totalScore >= 5) msg = "Ai trecut! üëç";
      else msg = "Mai exerseazƒÉ! üìâ";

      const maxPointPerQ = 10 / shuffledQuestions.length;
      const mistakes = quizState.filter(s => s.score < maxPointPerQ - 0.001).length;

      let reviewBtnHTML = "";
      if (mistakes > 0) {
        reviewBtnHTML = `<button class="btn btn-learn" onclick="toggleReview()" style="margin-top:15px; font-size:0.9rem;">üîç Vezi Gre»ôelile (${mistakes})</button>`;
      }

      container.innerHTML = `
        <div class="result-view">
          <div class="score-circle">
            <span style="z-index:2; color:white; font-size: 2.5rem;">${finalGrade}</span>
          </div>
          <h1 style="margin:0;">${msg}</h1>
          <p style="color:var(--text-muted); font-size:1.2rem; margin-top:10px;">
            Nota finalƒÉ: ${finalGrade} din 10
          </p>
          
          <div class="controls" style="margin-top:30px; flex-wrap:wrap;">
             <button class="btn btn-secondary" onclick="location.href='index.html'">Meniu</button>
             <button class="btn btn-primary" onclick="location.reload()">Din Nou</button>
          </div>
          
          ${reviewBtnHTML}

          <div id="review-section"></div>
        </div>
      `;
    }
    function toggleReview() {
      const reviewDiv = document.getElementById("review-section");
      if (reviewDiv.style.display === "block") {
          reviewDiv.style.display = "none";
          return;
      }
      let html = "";
      const maxPointPerQ = 10 / shuffledQuestions.length;
      const letters = ['a', 'b', 'c', 'd', 'e', 'f'];

      shuffledQuestions.forEach((q, index) => {
        const state = quizState[index];
        if (state.score < maxPointPerQ - 0.001) {
            
            let cleanQ = q.question.replace(/^\d+[\.\)]\s*/, '');

            html += `<div class="review-card">
              <div class="review-q-title">#${index + 1}. ${cleanQ}</div>`;
            state.answerOrder.forEach((pair, domIndex) => {
                const originalIdx = pair.originalIdx;
                const isCorrect = q.correct.includes(originalIdx);
                const isSelected = state.selectedIdx.includes(originalIdx);
                
                let styleClass = "review-neutral";
                let icon = "";

                if (isCorrect) {
                    styleClass = "review-correct"; // Verde
                    icon = "‚úÖ"; 
                } else if (isSelected && !isCorrect) {
                    styleClass = "review-wrong"; // Ro»ôu
                    icon = "‚ùå";
                }

                let userMark = isSelected ? "(Ales de tine)" : "";
                let cleanAns = pair.text.replace(/^[a-zA-Z0-9]+[\.\)]\s*/, '');

                html += `
                  <div class="review-option ${styleClass}">
                    <span><b>${letters[domIndex]})</b></span>
                    <span style="flex:1;">${cleanAns} <small style="opacity:0.7;">${userMark}</small></span>
                    <span>${icon}</span>
                  </div>
                `;
            });

            html += `</div>`;
        }
      });

      reviewDiv.innerHTML = html;
      reviewDiv.style.display = "block";
      
      // Scroll automat p√¢nƒÉ la sec»õiunea de review
      reviewDiv.scrollIntoView({ behavior: 'smooth' });
    }

    // Pornire
    initQuiz();
    </script>
</body>
</html>