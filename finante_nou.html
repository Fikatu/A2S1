<!DOCTYPE html>
<html lang="ro">
<head>
  <meta charset="UTF-8">
  <title>FinanÈ›e Publice NOU</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;500;700&display=swap" rel="stylesheet">
  
  <style>
    :root {
      --bg-dark: #0f172a;
      --card-dark: #1e293b;
      /* TemÄƒ Verde pentru FinanÈ›e */
      --accent: #10b981; /* Emerald 500 */
      --accent-glow: #34d399; /* Emerald 400 */
      --correct: #10b981;
      --wrong: #ef4444;
      --warning: #f59e0b;
      --text-main: #f8fafc;
      --text-muted: #94a3b8;
      --radius: 24px;
    }

    * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

    body {
      margin: 0;
      padding: 0;
      font-family: 'Outfit', sans-serif;
      background-color: var(--bg-dark);
      color: var(--text-main);
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      overflow-x: hidden;
      background-image: 
        radial-gradient(circle at 10% 20%, rgba(16, 185, 129, 0.15) 0%, transparent 25%),
        radial-gradient(circle at 90% 80%, rgba(5, 150, 105, 0.1) 0%, transparent 25%);
    }

    .top-bar {
      width: 100%;
      max-width: 700px;
      padding: 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      z-index: 10;
    }
    .back-btn {
      background: rgba(255,255,255,0.1);
      border: none;
      color: var(--text-main);
      width: 40px;
      height: 40px;
      border-radius: 12px;
      font-size: 1.2rem;
      cursor: pointer;
      display: grid;
      place-items: center;
      transition: 0.2s;
      text-decoration: none;
    }
    .back-btn:hover { background: rgba(255,255,255,0.2); }
    .streak-container {
      display: flex;
      align-items: center;
      gap: 6px;
      background: rgba(245, 158, 11, 0.15);
      color: var(--warning);
      padding: 6px 14px;
      border-radius: 20px;
      font-weight: 700;
      font-size: 0.9rem;
      border: 1px solid rgba(245, 158, 11, 0.3);
    }

    .quiz-container {
      width: 100%;
      max-width: 650px;
      flex: 1;
      display: flex;
      flex-direction: column;
      padding: 10px 20px 40px;
      position: relative;
    }

    .timer-wrapper {
      width: 100%;
      height: 6px;
      background: #334155;
      border-radius: 10px;
      margin-bottom: 20px;
      overflow: hidden;
    }
    .timer-bar {
      height: 100%;
      width: 100%;
      background: linear-gradient(90deg, var(--accent), var(--accent-glow));
      border-radius: 10px;
      transform-origin: left;
    }

    .question-card {
      background: var(--card-dark);
      border-radius: var(--radius);
      padding: 30px;
      box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
      border: 1px solid rgba(255,255,255,0.05);
      animation: fadeInScale 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
      margin-bottom: 20px;
    }

    .q-number { color: var(--text-muted); font-size: 0.85rem; text-transform: uppercase; letter-spacing: 1.5px; margin-bottom: 10px; font-weight: 700; }
    .q-text { font-size: 1.25rem; line-height: 1.5; font-weight: 600; margin: 0 0 15px 0; }

    .answers-list { display: flex; flex-direction: column; gap: 12px; }
    .answer-option {
      position: relative;
      background: rgba(255,255,255,0.03);
      border: 2px solid rgba(255,255,255,0.08);
      padding: 18px 20px;
      border-radius: 16px;
      cursor: pointer;
      transition: all 0.2s;
      display: flex;
      align-items: flex-start;
      gap: 15px;
      font-size: 1rem;
    }
    .answer-option:hover { background: rgba(255,255,255,0.06); border-color: rgba(255,255,255,0.2); }
    
    .custom-check {
      width: 24px; height: 24px; border: 2px solid var(--text-muted); border-radius: 8px; flex-shrink: 0; display: grid; place-items: center; margin-top: 2px;
    }
    .custom-check::after { content: 'âœ”'; font-size: 14px; color: #fff; transform: scale(0); transition: 0.2s; }
    input[type="checkbox"] { display: none; }
    
    input:checked + .custom-check { background: var(--accent); border-color: var(--accent); }
    input:checked + .custom-check::after { transform: scale(1); }
    .answer-option.selected { background: rgba(16, 185, 129, 0.15); border-color: var(--accent); }

    .answer-option.correct { background: rgba(16, 185, 129, 0.15) !important; border-color: var(--correct) !important; }
    .answer-option.correct .custom-check { background: var(--correct) !important; border-color: var(--correct) !important; }

    .answer-option.wrong { background: rgba(239, 68, 68, 0.15) !important; border-color: var(--wrong) !important; animation: shake 0.4s ease; }
    .answer-option.wrong .custom-check { background: var(--wrong) !important; border-color: var(--wrong) !important; }
    .answer-option.wrong .custom-check::after { content: 'âœ–'; }

    .controls { display: flex; gap: 15px; margin-top: auto; }
    .btn { flex: 1; padding: 18px; border-radius: 16px; border: none; font-family: inherit; font-weight: 700; font-size: 1rem; cursor: pointer; text-transform: uppercase; letter-spacing: 1px; }
    .btn-primary { background: var(--accent); color: white; box-shadow: 0 4px 0 #047857; }
    .btn-primary:hover { background: #059669; }
    .btn-learn { background: rgba(245, 158, 11, 0.1); color: var(--warning); border: 1px solid var(--warning); }
    .btn-secondary { background: transparent; border: 2px solid var(--text-muted); color: var(--text-muted); }

    .result-view { text-align: center; padding: 40px 20px; animation: slideUp 0.5s ease; }
    .score-circle { width: 180px; height: 180px; border-radius: 50%; border: 8px solid var(--card-dark); background: conic-gradient(var(--accent) 0%, var(--card-dark) 0%); margin: 0 auto 30px; display: grid; place-items: center; font-size: 3.5rem; font-weight: 800; position: relative; box-shadow: 0 0 30px rgba(16, 185, 129, 0.3); }
    .score-circle::before { content: ''; position: absolute; inset: 10px; background: var(--bg-dark); border-radius: 50%; z-index: -1; }

    .hidden { display: none !important; }
    @keyframes fadeInScale { from { opacity: 0; transform: scale(0.95); } to { opacity: 1; transform: scale(1); } }
    @keyframes slideUp { from { opacity: 0; transform: translateY(40px); } to { opacity: 1; transform: translateY(0); } }
    @keyframes shake { 0%, 100% { transform: translateX(0); } 25% { transform: translateX(-8px); } 75% { transform: translateX(8px); } }
    
    .confetti { position: fixed; width: 10px; height: 10px; background-color: #f00; animation: fall linear forwards; z-index: 100; }
    @keyframes fall { to { transform: translateY(100vh) rotate(720deg); } }
  </style>
</head>
<body>

  <div class="top-bar">
    <a href="index.html" class="back-btn">âœ•</a>
    <div class="streak-container">
      <span id="streak-icon">ðŸ’°</span>
      <span id="streak-count">0</span>
    </div>
  </div>

  <div class="quiz-container" id="quiz-container">
    <div class="timer-wrapper"><div class="timer-bar" id="timer-bar"></div></div>

    <div class="question-card" id="question-card">
      <div class="q-number" id="q-number">ÃŽntrebarea 1</div>
      <p class="q-text" id="q-text">Se Ã®ncarcÄƒ...</p>
      <div class="answers-list" id="answers-list"></div>
    </div>

    <div class="controls">
      <button class="btn btn-learn" id="learn-btn" onclick="triggerLearnMode()">ðŸ‘€ ÃŽnvaÈ›Äƒ</button>
      <button class="btn btn-primary" id="action-btn" onclick="handleAction()">VerificÄƒ</button>
    </div>
  </div>

  <script>
    /* GRILE FINANÈšE PUBLICE NOU - SoluÈ›ionate */
    const questions = [
      {
        question: "1. La care din urmÄƒtorii indicatori un nivel cÃ¢t mai scÄƒzut exprimÄƒ o eficienÈ›Äƒ economicÄƒ mai mare:",
        answers: ["a) profitul actualizat", "b) venitul net actualizat", "c) investiÈ›ia specificÄƒ", "d) rata de actualizare", "e) efectul (negativ al) imobilizÄƒrii fondurilor financiare investite"],
        correct: [2, 4] // I_spec mic È™i Efect imobilizare mic = EficienÈ›Äƒ mare
      },
      {
        question: "2. Care din urmÄƒtoarele afirmaÈ›ii sunt adevÄƒrate:",
        answers: ["a) cheltuielile bugetare (ale statului) nu se includ Ã®n conceptul de cheltuialÄƒ publicÄƒ Ã®n sens larg", "b) cheltuielile materiale ale Ã®ntreprinderilor cu capital de stat nu se regÄƒsesc Ã®n cheltuielile bugetare", "c) Ã®n concepÈ›ia modernÄƒ, cheltuielile publice sunt privite ca procese de realocare a resurselor", "d) Ã®n sens economic restrÃ¢ns, conceptul de cheltuialÄƒ publicÄƒ semnificÄƒ numai plÄƒÈ›ile efectuate pentru funcÈ›ionarea instituÈ›iilor bugetare"],
        correct: [1, 2] 
      },
      {
        question: "3. Printre sursele de finanÈ›are a cheltuielilor publice cu Ã®nvÄƒÈ›ÄƒmÃ¢ntul se pot regÄƒsi:",
        answers: ["a) donatii sau ajutoare externe", "b) venituri proprii realizate de instituÈ›iile de Ã®nvÄƒÈ›ÄƒmÃ¢nt", "c) fondul bugetar", "d) lipsa de cÃ¢È™tiguri a elevilor/studenÈ›ilor pe durata studiilor"],
        correct: [0, 1, 2]
      },
      {
        question: "4. ÃŽn sens juridic, conceptul de cheltuialÄƒ publicÄƒ se referÄƒ la:",
        answers: ["a) plÄƒÈ›ile efectuate pentru funcÈ›ionarea instituÈ›iilor publice", "b) sume alocate din bugetul public", "c) cheltuielile bugetare", "d) ansamblul proceselor economice de consum public de resurse"],
        correct: [0]
      },
      {
        question: "5. AcÈ›iunea unei 'legi a nevoilor financiare crescÃ¢nde ale statului È™i organelor autonome' reprezintÄƒ poziÈ›ia faÈ›Äƒ de creÈ™terea cheltuielilor publice exprimatÄƒ de:",
        answers: ["a) Robert Noll von der Nahmer", "b) Adolph Wagner", "c) John Maynard Keynes", "d) Adam Smith"],
        correct: [1]
      },
      {
        question: "6. ÃŽn categoria cheltuielilor militare indirecte se includ:",
        answers: ["a) Cheltuielile cu procurarea de bunuri È™i servicii necesare bunei funcÈ›ionÄƒri a organismului militar", "b) PlÄƒÈ›ile de dobÃ¢nzi la Ã®mprumuturile publice contractate pentru Ã®nzestrarea armatei", "c) Cheltuielile pentru dotarea cu armament È™i tehnicÄƒ militarÄƒ", "d) Cheltuielile cu pensiile plÄƒtite invalizilor de rÄƒzboi", "e) Cheltuielile cu salariile personalului militar"],
        correct: [1, 3] // DobÃ¢nzi È™i pensii
      },
      {
        question: "7. Cheltuielile publice temporare:",
        answers: ["a) Sunt acele cheltuieli pe care statul se angajeazÄƒ sÄƒ le efectueze Ã®n anumite condiÈ›ii", "b) Sunt cheltuieli care se finalizeazÄƒ cu plÄƒÈ›i la scadenÈ›e certe", "c) ReprezintÄƒ operaÈ›iuni de trezorerie È™i sunt reflectate Ã®n conturile speciale ale trezoreriei", "d) Sunt cheltuieli de natura Ã®mprumuturilor acordate de autoritÄƒÈ›ile publice"],
        correct: [2]
      },
      {
        question: "8. Pentru a calcula indicele creÈ™terii relative nominale a cheltuielilor publice este necesar a cunoaÈ™te:",
        answers: ["a) Volumul cheltuielilor publice (Ã®n perioada curentÄƒ È™i Ã®n perioada de bazÄƒ) Ã®n preÈ›uri constante", "b) Ponderea cheltuielilor publice Ã®n produsul intern brut Ã®n cele douÄƒ perioade", "c) Volumul cheltuielilor publice (Ã®n perioada curentÄƒ È™i Ã®n perioada de bazÄƒ) Ã®n preÈ›uri curente", "d) Produsul intern brut (Ã®n perioada de bazÄƒ È™i perioada curentÄƒ) exprimat Ã®n preÈ›uri constante"],
        correct: [2] // CreÈ™tere nominalÄƒ = valori curente
      },
      {
        question: "9. Cheltuielile cu achiziÈ›ionarea echipamentelor necesare Ã®ngrijirii bolnavilor Ã®n unitÄƒÈ›ile sanitare publice se Ã®ncadreazÄƒ Ã®n categoria:",
        answers: ["a) cheltuielilor (publice) de capital", "b) cheltuielilor (publice) pentru acÈ›iuni social-culturale", "c) cheltuielilor (publice) de transfer", "d) cheltuielilor (publice) virtuale"],
        correct: [0, 1]
      },
      {
        question: "10. Care dintre urmÄƒtoarele afirmaÈ›ii cu privire la cheltuielile pentru servicii publice generale sunt adevÄƒrate:",
        answers: ["a) ÃŽn structura acestora se regÄƒsesc cheltuielile publice ale organelor puterii judecÄƒtoreÈ™ti", "b) Se particularizeazÄƒ prin faptul cÄƒ Ã®n cadrul lor, cheltuielile curente deÈ›in o pondere neglijabilÄƒ", "c) Sunt acoperite Ã®n principal pe seama fondurilor cu destinaÈ›ie specialÄƒ", "d) Cuprind cheltuieli referitoare la asigurÄƒrile sociale"],
        correct: [0]
      },
      {
        question: "11. Care din urmÄƒtoarele formulÄƒri cu privire la cheltuielile publice pentru acÈ›iuni social-culturale sunt adevÄƒrate:",
        answers: ["a) Sunt considerate, Ã®n concepÈ›ia modernÄƒ, cheltuieli fÄƒrÄƒ impact pozitiv asupra PIB", "b) Sursa principalÄƒ de finanÈ›are a acestor cheltuieli o constituie fondurile extrabugetare", "c) Prin conÈ›inutul lor, au Ã®n vedere acÈ›iuni de interes general ce se Ã®ntreprind Ã®n scopul asigurÄƒrii de servicii publice destinate populaÈ›iei Ã®n ansamblu", "d) ReprezintÄƒ, Ã®n È›Äƒrile dezvoltate, cea mai Ã®nsemnatÄƒ categorie de cheltuieli publice"],
        correct: [2, 3]
      },
      {
        question: "12. ÃŽn calculul indemnizaÈ›iei de È™omaj sunt luate Ã®n considerare:",
        answers: ["a) Valoarea indicatorului social de referinÈ›Äƒ", "b) Durata stagiului de cotizare", "c) MÄƒrimea altor venituri ale È™omerului", "d) Pierderea de venit determinatÄƒ de pierderea locului de muncÄƒ"],
        correct: [0, 3]
      },
      {
        question: "13. ÃŽn sistemul englez (Beveridge) de ocrotire a sÄƒnÄƒtÄƒÈ›ii:",
        answers: ["a) salariaÈ›ii È™i angajatorii suportÄƒ contribuÈ›ii obligatorii pentru finanÈ›area sistemului de sÄƒnÄƒtate", "b) accesul la serviciile medicale nu este restricÈ›ionat de contributivitate", "c) cheltuielile publice destinate ocrotirii sÄƒnÄƒtÄƒÈ›ii se finanÈ›eazÄƒ prin Case de AsigurÄƒri", "d) asiguraÈ›ii plÄƒtesc impozite proporÈ›ionale cu riscul de Ã®mbolnÄƒvire"],
        correct: [1]
      },
      {
        question: "14. ÃŽntre costurile luate Ã®n calcul Ã®n analiza cost-avantaje se pot menÈ›iona:",
        answers: ["a) cheltuielile de exploatare", "b) cheltuielile cu lucrÄƒrile de construcÈ›ii", "c) cheltuielile cu achiziÈ›iile de utilaje È™i instalaÈ›ii, inclusiv montajul acestora", "d) cheltuielile cu cercetarea È™i proiectarea"],
        correct: [0, 1, 2, 3]
      },
      {
        question: "15. Ce factori ce au determinat creÈ™terea semnificativÄƒ, Ã®n ultimele decenii, a cheltuielilor publice pentru ocrotirea sÄƒnÄƒtÄƒÈ›ii, se pot menÈ›iona:",
        answers: ["a) Amplificarea factorilor de risc", "b) CreÈ™terea demograficÄƒ", "c) CreÈ™terea costului serviciilor medicale", "d) CreÈ™terea numÄƒrului personalului angajat Ã®n unitÄƒÈ›ile sanitare"],
        correct: [0, 1, 2]
      },
      {
        question: "16. Fondul bugetar destinat plÄƒÈ›ii funcÈ›ionarilor din administraÈ›ia centralÄƒ este:",
        answers: ["a) Un fond financiar de Ã®nlocuire È™i dezvoltare, public, de nivel central (macroeconomic)", "b) Un fond financiar de consum, public, de nivel microeconomic", "c) Un fond financiar de consum, public, de nivel central (macroeconomic)", "d) Un fond financiar de consum, public, ce reflectÄƒ ipostaza statului de autoritate publicÄƒ"],
        correct: [2, 3]
      },
      {
        question: "17. ÃŽn concepÈ›ia lui J.M. Keynes, la o creÈ™tere a veniturilor indivizii vor reacÈ›iona prin:",
        answers: ["a) cheltuirea integralÄƒ a sporului de venit", "b) reducerea volumului de muncÄƒ", "c) creÈ™terea consumului, dar nu proporÈ›ional cu creÈ™terea venitului", "d) creÈ™terea pÄƒrÈ›ii din venit alocatÄƒ consumului unor bunuri de folosinÈ›Äƒ Ã®ndelungatÄƒ"],
        correct: [2]
      },
      {
        question: "18. Care din urmÄƒtoarele afirmaÈ›ii sunt adevÄƒrate:",
        answers: ["a) FuncÈ›ia de reglare atribuitÄƒ finanÈ›elor semnificÄƒ implicarea efectivÄƒ a acestora Ã®n reglarea activitÄƒÈ›ilor economico-sociale", "b) Activitatea financiarÄƒ ce concretizeazÄƒ funcÈ›ia de repartiÈ›ie oferÄƒ suportul obiectiv necesar exercitÄƒrii controlului financiar", "c) Controlul financiar favorizeazÄƒ Ã®ndeplinirea funcÈ›iei de repartiÈ›ie, dar nu poate genera noi procese de repartiÈ›ie", "d) ÃŽndeplinirea funcÈ›iei finanÈ›elor de repartiÈ›ie marcheazÄƒ diferenÈ›ieri semnificative la nivel macroeconomic comparativ cu nivelul microeconomic"],
        correct: [0, 1, 3]
      },
      {
        question: "19. Cheltuielile publice cu acordarea de subvenÈ›ii sectorului privat:",
        answers: ["a) Pot fi considerate o pÃ¢rghie financiarÄƒ", "b) Pot fi utilizate ca mijloc de stimulare a exporturilor", "c) Contravin concepÈ›iei moderne despre cheltuielile publice", "d) Fac parte din categoria cheltuielilor pentru acÈ›iuni economice"],
        correct: [0, 1, 3]
      },
      {
        question: "20. Pentru a calcula indicele creÈ™terii relative reale a cheltuielilor publice este necesar a cunoaÈ™te:",
        answers: ["a) Produsul intern brut (Ã®n perioada de bazÄƒ È™i perioada curentÄƒ) exprimat Ã®n preÈ›uri curente", "b) Volumul cheltuielilor publice (Ã®n perioada curentÄƒ È™i Ã®n perioada de bazÄƒ) Ã®n preÈ›uri constante", "c) Ponderea cheltuielilor publice Ã®n produsul intern brut Ã®n cele douÄƒ perioade", "d) Produsul intern brut (Ã®n perioada de bazÄƒ È™i perioada curentÄƒ) exprimat Ã®n preÈ›uri constante"],
        correct: [3] // Trebuie mÄƒrimi reale (constante)
      },
      {
        question: "21. Aplicarea de soluÈ›ii tehnice rapide Ã®n realizarea lucrÄƒrilor de investiÈ›ii (publice) are ca efect:",
        answers: ["a) reducerea investiÈ›iilor specifice", "b) reducerea sumei totale ce se investeÈ™te", "c) reducerea efectului (negativ al) imobilizÄƒrii", "d) creÈ™terea duratei de execuÈ›ie a obiectivului de investiÈ›ii"],
        correct: [2]
      },
      {
        question: "22. Ca efecte economice benefice ale finanÈ›Äƒrii cheltuielilor publice pentru ocrotirea sÄƒnÄƒtÄƒÈ›ii:",
        answers: ["a) eradicarea unor boli profesionale", "b) creÈ™terea speranÈ›ei medii de viaÈ›Äƒ la naÈ™tere", "c) refacerea È™i pÄƒstrarea sÄƒnÄƒtÄƒÈ›ii persoanelor care beneficiazÄƒ de asigurare medicalÄƒ", "d) creÈ™terea perioadei active a vieÈ›ii"],
        correct: [1, 3] // Impact economic asupra forÈ›ei de muncÄƒ
      },
    {
        question: "23. Care din urmatoarele afirmatii sunt adevarate:",
        answers: ["a)	Functia de reglare atribuita finantelor semnifica implicarea efectiva a acestoraÃ®n reglarea activitÄƒÅ£ilor economico-sociale;", "b)	Controlul financiar favorizeaza indeplinirea functiei de repartitie dar nu poategenera noi procese de repartiÅ£ie", "c)	Activitatea financiara ce concretizeaza functia de repartitie ofera suportul obiectiv necesar exercitÄƒrii controlului financiar;", "d)	Indeplinirea functiei finantelor de repartitie marcheaza diferentieri demnificative la nivel macroeconomic comparativ cu nivelul microeconomic."],
        correct: [0, 2, 3]
      },
      {
        question: "24. ÃŽn balanÈ›a financiarÄƒ a statului, la venituri curente se includ:",
        answers: ["a) transferurile de capital primite", "b) veniturile provenite de la Ã®ntreprinderile È™i proprietÄƒÈ›ile statului", "c) impozitele directe È™i indirecte", "d) dobÃ¢nzile plÄƒtite aferente datoriei publice"],
        correct: [1, 2]
      },
      {
        question: "25. Printre factorii demografici de influenÈ›Äƒ asupra evoluÈ›iei cheltuielilor publice se numÄƒrÄƒ:",
        answers: ["a) preocuparea statului pentru o mai bunÄƒ repartizare a veniturilor Ã®n societate", "b) creÈ™terea duratei medii de viaÈ›Äƒ", "c) acordarea de sprijin material unor categorii sociale defavorizate", "d) modificÄƒrile structurale ale populaÈ›iei pe vÃ¢rste, categorii socio-profesionale"],
        correct: [1, 3]
      },
      {
        question: "26. Latura obiectivÄƒ a Ã®ndeplinirii de cÄƒtre finanÈ›ele publice a funcÈ›iei de control asupra activitÄƒÈ›ii reiese din:",
        answers: ["a) exercitarea atribuÈ›iilor de control de cÄƒtre persoane cu atribuÈ›ii specifice Ã®n domeniu", "b) manifestarea finanÈ›elor ca procese È™i relaÈ›ii economice Ã®n formÄƒ bÄƒneascÄƒ", "c) Ã®ndeplinirea de cÄƒtre bani a funcÈ›iilor specifice", "d) modalitÄƒÈ›ile È™i tehnicile de realizare a controlului financiar"],
        correct: [1, 2]
      },
      {
        question: "27. ÃŽn cheltuielile publice bugetare pentru Ã®nvÄƒÈ›ÄƒmÃ¢nt nu se includ:",
        answers: ["a) cheltuielile de Ã®ntreÈ›inere È™i reparaÈ›ii curente a mijloacelor fixe", "b) impozitul pe salariile aferente personalului didactic È™i auxiliar", "c) subvenÈ›iile acordate cantinelor È™i cÄƒminelor", "d) cheltuielile suportate din taxele È™colare", "e) salariile brute ale personalului didactic È™i auxiliar"],
        correct: [1, 3]
      },
      {
        question: "28. ÃŽn sfera finanÈ›elor locale:",
        answers: ["a) transferul de valoare vizeazÄƒ satisfacerea unor nevoi de interes local", "b) dimensiunile proceselor È™i relaÈ›iilor financiare nu sunt influenÈ›ate de tipul de organizare", "c) nu este posibilÄƒ contractarea de Ã®mprumuturi", "d) transferul de valoare se realizeazÄƒ cu caracter definitiv sau rambursabil"],
        correct: [0, 3]
      },
      {
        question: "29. Pentru a calcula indicele creÈ™terii relative nominale a cheltuielilor publice este necesar a cunoaste :",
        answers: ["a) produsul intern brut (Ã®n perioada de bazÄƒ È™i perioada curentÄƒ) exprimat Ã®n preÈ›uri constante", "b) volumul cheltuielilor publice (Ã®n perioada curentÄƒ È™i Ã®n perioada de bazÄƒ) Ã®n preÈ›uri constante", "c) ponderea cheltuielilor publice Ã®n produsul intern brut Ã®n cele douÄƒ perioade", "d) volumul cheltuielilor publice (Ã®n perioada curentÄƒ È™i Ã®n perioada de bazÄƒ) Ã®n preÈ›uri curente"],
        correct: [2] 
      },
      {
        question: "30. ÃŽn calculul indemnizaÈ›iei de È™omaj sunt luate Ã®n considerare:",
        answers: ["a) pierderea de venit determinatÄƒ de pierderea locului de muncÄƒ", "b) durata stagiului de cotizare", "c) valoarea indicatorului social de referinÈ›Äƒ", "d) mÄƒrimea altor venituri ale È™omerului"],
        correct: [1, 2]
      },
      {
        question: "31. Recuperarea mai rapidÄƒ a resurselor financiare (publice) investite Ã®ntr-un obiectiv economic presupune:",
        answers: ["a) creÈ™terea profitului obÈ›inut din exploatarea obiectivului respectiv", "b) reducerea duratei de executare a obiectivului de investiÈ›ie", "c) eÈ™alonarea crescÄƒtoare a cheltuielilor de investiÈ›ii", "d) eÈ™alonarea descrescÄƒtoare a cheltuielilor de investiÈ›ii", "e) creÈ™terea veniturilor anuale obtenabile Ã®n perioada de exploatare a obiectivului"],
        correct: [0, 1, 4]
      },
      {
        question: "32. Dl prof M este:",
        answers: ["a) Extrem de arÄƒtos", "b) Foarte inteligent", "c) Extrem de carismatic È™i amuzant", "d) Foarte È™armant"],
        correct: [0, 1, 2, 3]
      }
    ];

    let currentQ = 0;
    let correctCount = 0;
    let totalScore = 0;
    let streak = 0;
    let isAnswered = false;

    const qText = document.getElementById("q-text");
    const qNum = document.getElementById("q-number");
    const answersList = document.getElementById("answers-list");
    const actionBtn = document.getElementById("action-btn");
    const learnBtn = document.getElementById("learn-btn");
    const streakEl = document.getElementById("streak-count");
    const timerBar = document.getElementById("timer-bar");

    function initQuiz() {
      currentQ = 0;
      correctCount = 0;
      totalScore = 0;
      streak = 0;
      updateStreakUI();
      loadQuestion();
    }

    function loadQuestion() {
      isAnswered = false;
      actionBtn.innerText = "VERIFICÄ‚";
      actionBtn.onclick = handleAction;
      actionBtn.style.display = "block";
      actionBtn.style.background = "var(--accent)";
      learnBtn.style.display = "block";
      
      timerBar.style.transition = "none";
      timerBar.style.transform = "scaleX(1)";
      setTimeout(() => {
        timerBar.style.transition = "transform 60s linear";
        timerBar.style.transform = "scaleX(0)";
      }, 100);

      const q = questions[currentQ];
      qNum.innerText = `ÃŽntrebarea ${currentQ + 1} / ${questions.length}`;
      qText.innerText = q.question;
      
      answersList.innerHTML = "";
      
      q.answers.forEach((ans, i) => {
        const div = document.createElement("label");
        div.className = "answer-option";
        div.innerHTML = `
          <input type="checkbox" name="ans" value="${i}">
          <div class="custom-check"></div>
          <span class="ans-text">${ans}</span>
        `;
        div.querySelector("input").addEventListener("change", function() {
          if(this.checked) div.classList.add("selected");
          else div.classList.remove("selected");
        });
        answersList.appendChild(div);
      });
    }

    function handleAction() {
      if (!isAnswered) {
        checkAnswer();
      } else {
        nextQuestion();
      }
    }

    function checkAnswer() {
      const checked = Array.from(document.querySelectorAll('input[name="ans"]:checked'));
      if (checked.length === 0) return; 

      isAnswered = true;
      const userIdx = checked.map(c => parseInt(c.value));
      const correctIdx = questions[currentQ].correct;

      // Calcul Punctaj (Corecte - GreÈ™ite) / Total Corecte
      let correctSelected = 0;
      let wrongSelected = 0;

      userIdx.forEach(idx => {
        if (correctIdx.includes(idx)) correctSelected++;
        else wrongSelected++;
      });

      let ratio = (correctSelected - wrongSelected) / correctIdx.length;
      if (ratio < 0) ratio = 0;

      const pointsPerQuestion = 10 / questions.length;
      totalScore += ratio * pointsPerQuestion;

      // UI: Colorare
      const options = document.querySelectorAll(".answer-option");
      options.forEach((opt, i) => {
        const input = opt.querySelector("input");
        if (correctIdx.includes(i)) opt.classList.add("correct");
        if (input.checked && !correctIdx.includes(i)) opt.classList.add("wrong");
      });

      document.querySelectorAll("input").forEach(i => i.disabled = true);
      document.querySelectorAll(".answer-option").forEach(opt => opt.style.pointerEvents = "none");
      learnBtn.style.display = "none";

      // Navigare sau Continuare
      if (ratio === 1) {
        streak++;
        updateStreakUI();
        actionBtn.innerText = "CORECT! ðŸ‘";
        actionBtn.style.background = "var(--correct)";
        
        setTimeout(() => { nextQuestion(); }, 1000);
      } else {
        streak = 0;
        updateStreakUI();
        const points = (ratio * pointsPerQuestion).toFixed(2);
        
        if (ratio > 0) {
            actionBtn.innerText = `PARÈšIAL: +${points}p (ContinuÄƒ)`;
            actionBtn.style.background = "var(--warning)";
        } else {
            actionBtn.innerText = "GREÈ˜IT: 0p (ContinuÄƒ)";
            actionBtn.style.background = "var(--wrong)";
        }
        actionBtn.onclick = nextQuestion;
      }
    }

    function triggerLearnMode() {
      isAnswered = true;
      const correctIdx = questions[currentQ].correct;
      document.querySelectorAll(".answer-option").forEach((opt, i) => {
        if (correctIdx.includes(i)) opt.classList.add("correct");
        opt.style.pointerEvents = "none";
        opt.querySelector("input").disabled = true;
      });
      streak = 0;
      updateStreakUI();
      actionBtn.innerText = "URMÄ‚TOAREA";
      actionBtn.style.background = "var(--accent)";
      actionBtn.onclick = nextQuestion;
      learnBtn.style.display = "none";
    }

    function nextQuestion() {
      currentQ++;
      if (currentQ < questions.length) {
        loadQuestion();
      } else {
        showResults();
      }
    }

    function showResults() {
      const container = document.getElementById("quiz-container");
      const finalGrade = totalScore.toFixed(2);
      
      if(totalScore >= 5) fireConfetti();
      let msg = "";
      if (totalScore >= 9) msg = "L-ai spart vere pe zugri";
      else if (totalScore >= 7) msg = "E de la tine!";
      else if (totalScore >= 5) msg = "E de la tine!";
      else msg = "Slab, e de la voi!";

      container.innerHTML = `
        <div class="result-view">
          <div class="score-circle">
            <span style="z-index:2; color:white; font-size: 2.5rem;">${finalGrade}</span>
          </div>
          <h1 style="margin:0;">${msg}</h1>
          <p style="color:var(--text-muted); font-size:1.2rem; margin-top:10px;">
            Nota finalÄƒ: ${finalGrade} din 10
          </p>
          <div class="controls" style="margin-top:40px;">
             <button class="btn btn-secondary" onclick="location.href='index.html'">Meniu</button>
             <button class="btn btn-primary" onclick="location.reload()">Din Nou</button>
          </div>
        </div>
      `;
    }

    function updateStreakUI() {
      streakEl.innerText = streak;
      if(streak > 2) streakEl.parentElement.style.background = "rgba(245, 158, 11, 0.4)";
      else streakEl.parentElement.style.background = "rgba(245, 158, 11, 0.15)";
    }

    function fireConfetti() {
      const colors = ['#10b981', '#34d399', '#f59e0b', '#ffffff'];
      for (let i = 0; i < 50; i++) {
        const conf = document.createElement('div');
        conf.className = 'confetti';
        conf.style.left = Math.random() * 100 + 'vw';
        conf.style.top = -10 + 'px';
        conf.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
        conf.style.animationDuration = (Math.random() * 3 + 2) + 's';
        document.body.appendChild(conf);
      }
    }

    initQuiz();
  </script>
</body>
</html>