
<!DOCTYPE html>
<html lang="ro">
<head>
  <meta charset="UTF-8">
  <title>Finan»õe Publice</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;500;700&display=swap" rel="stylesheet">
  
  <style>
:root {
      --bg-dark: #0f172a;
      --card-dark: #1e293b;
      /* Po»õi schimba culoarea accentului √Æn func»õie de materie */
      --accent: #2563eb; 
      --accent-glow: #60a5fa;
      --correct: #10b981;
      --wrong: #ef4444;
      --warning: #f59e0b;
      --text-main: #f8fafc;
      --text-muted: #94a3b8;
      --radius: 24px;
    }

    * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

    body {
      margin: 0;
      padding: 0;
      font-family: 'Outfit', sans-serif;
      background-color: var(--bg-dark);
      color: var(--text-main);
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      overflow-x: hidden;
      /* Fundal generic - se poate personaliza per fi»ôier */
      background-image: 
        radial-gradient(circle at 10% 20%, rgba(37, 99, 235, 0.15) 0%, transparent 25%),
        radial-gradient(circle at 90% 80%, rgba(16, 185, 129, 0.1) 0%, transparent 25%);
    }

    /* --- BARA DE SUS (NAVIGARE) --- */
    .top-bar {
      width: 100%;
      max-width: 700px;
      padding: 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      z-index: 10;
      position: relative; /* Esen»õial pentru centrarea sƒÉge»õilor */
    }

    .back-btn {
      background: rgba(255,255,255,0.1);
      border: none;
      color: var(--text-main);
      width: 44px;
      height: 44px;
      border-radius: 12px;
      font-size: 1.2rem;
      cursor: pointer;
      display: grid;
      place-items: center;
      transition: 0.2s;
      text-decoration: none;
    }
    .back-btn:hover { background: rgba(255,255,255,0.2); }

    /* Containerul pentru sƒÉge»õi (Centrat Absolut) */
    .nav-mini-container {
      display: flex;
      gap: 15px;
      position: absolute;
      left: 50%;
      transform: translateX(-50%);
    }

    .btn-nav-mini {
      background: rgba(255, 255, 255, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.15);
      color: var(--text-main);
      width: 44px;
      height: 44px;
      border-radius: 12px;
      cursor: pointer;
      display: grid;
      place-items: center;
      font-size: 1.2rem;
      transition: all 0.2s;
      backdrop-filter: blur(5px);
    }
    .btn-nav-mini:hover {
      background: rgba(255, 255, 255, 0.25);
      transform: scale(1.05);
      border-color: var(--text-main);
    }
    .btn-nav-mini:disabled {
      opacity: 0.3;
      cursor: not-allowed;
      transform: none;
    }

    .streak-container {
      display: flex;
      align-items: center;
      gap: 6px;
      background: rgba(255, 255, 255, 0.1);
      padding: 8px 16px;
      border-radius: 20px;
      font-weight: 700;
      font-size: 0.9rem;
      border: 1px solid rgba(255, 255, 255, 0.2);
    }

    /* --- ZONA DE QUIZ --- */
    .quiz-container {
      width: 100%;
      max-width: 650px;
      flex: 1;
      display: flex;
      flex-direction: column;
      padding: 10px 20px 40px;
      position: relative;
    }

    .timer-wrapper {
      width: 100%;
      height: 6px;
      background: #334155;
      border-radius: 10px;
      margin-bottom: 20px;
      overflow: hidden;
    }
    .timer-bar {
      height: 100%;
      width: 100%;
      background: linear-gradient(90deg, var(--accent), var(--accent-glow));
      border-radius: 10px;
      transform-origin: left;
    }

    .question-card {
      background: var(--card-dark);
      border-radius: var(--radius);
      padding: 30px;
      box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
      border: 1px solid rgba(255,255,255,0.05);
      animation: fadeInScale 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
      margin-bottom: 20px;
    }

    .q-number { color: var(--text-muted); font-size: 0.85rem; text-transform: uppercase; letter-spacing: 1.5px; margin-bottom: 10px; font-weight: 700; }
    .q-text { font-size: 1.25rem; line-height: 1.5; font-weight: 600; margin: 0 0 15px 0; }

    .answers-list { display: flex; flex-direction: column; gap: 12px; }
    
    .answer-option {
      position: relative;
      background: rgba(255,255,255,0.03);
      border: 2px solid rgba(255,255,255,0.08);
      padding: 18px 20px;
      border-radius: 16px;
      cursor: pointer;
      transition: all 0.2s;
      display: flex;
      align-items: flex-start;
      gap: 15px;
      font-size: 1rem;
    }
    .answer-option:hover { background: rgba(255,255,255,0.06); border-color: rgba(255,255,255,0.2); }
    
    .custom-check {
      width: 24px; height: 24px; border: 2px solid var(--text-muted); border-radius: 8px; flex-shrink: 0; display: grid; place-items: center; margin-top: 2px;
    }
    .custom-check::after { content: '‚úî'; font-size: 14px; color: #fff; transform: scale(0); transition: 0.2s; }
    input[type="checkbox"] { display: none; }
    
    input:checked + .custom-check { background: var(--accent); border-color: var(--accent); }
    input:checked + .custom-check::after { transform: scale(1); }
    
    /* StƒÉri speciale pentru rƒÉspunsuri */
    .answer-option.selected { background: rgba(255, 255, 255, 0.1); border-color: var(--accent); }
    
    .answer-option.correct { background: rgba(16, 185, 129, 0.15) !important; border-color: var(--correct) !important; }
    .answer-option.correct .custom-check { background: var(--correct) !important; border-color: var(--correct) !important; }

    .answer-option.wrong { background: rgba(239, 68, 68, 0.15) !important; border-color: var(--wrong) !important; animation: shake 0.4s ease; }
    .answer-option.wrong .custom-check { background: var(--wrong) !important; border-color: var(--wrong) !important; }
    .answer-option.wrong .custom-check::after { content: '‚úñ'; }
    .nav-mini-container {
      display: flex;
      gap: 15px;
      position: absolute;
      left: 50%;
      transform: translateX(-50%);
      z-index: 9999; /* <--- Asta e cheia! Le for»õeazƒÉ sƒÉ fie deasupra tuturor */
      pointer-events: auto; /* Se asigurƒÉ cƒÉ primesc click-uri */
    }
    .top-bar {
      /* ... alte reguli ... */
      position: relative;
      z-index: 1000;
    }

    /* --- CONTROLS (JOS) --- */
    .controls { display: flex; gap: 15px; margin-top: auto; }
    
    .btn { flex: 1; padding: 18px; border-radius: 16px; border: none; font-family: inherit; font-weight: 700; font-size: 1rem; cursor: pointer; text-transform: uppercase; letter-spacing: 1px; transition: 0.2s; }
    
    .btn-primary { background: var(--accent); color: white; box-shadow: 0 4px 0 rgba(0,0,0,0.2); }
    .btn-primary:active { transform: translateY(2px); box-shadow: none; }
    
    .btn-learn { background: rgba(255, 255, 255, 0.05); color: var(--warning); border: 1px solid var(--warning); }
    .btn-secondary { background: transparent; border: 2px solid var(--text-muted); color: var(--text-muted); }

    /* --- REZULTATE --- */
    .result-view { text-align: center; padding: 40px 20px; animation: slideUp 0.5s ease; }
    .score-circle { width: 180px; height: 180px; border-radius: 50%; border: 8px solid var(--card-dark); background: conic-gradient(var(--accent) 0%, var(--card-dark) 0%); margin: 0 auto 30px; display: grid; place-items: center; font-size: 3.5rem; font-weight: 800; position: relative; box-shadow: 0 0 30px rgba(0,0,0,0.3); }
    .score-circle::before { content: ''; position: absolute; inset: 10px; background: var(--bg-dark); border-radius: 50%; z-index: -1; }

    .hidden { display: none !important; }
    @keyframes fadeInScale { from { opacity: 0; transform: scale(0.95); } to { opacity: 1; transform: scale(1); } }
    @keyframes slideUp { from { opacity: 0; transform: translateY(40px); } to { opacity: 1; transform: translateY(0); } }
    @keyframes shake { 0%, 100% { transform: translateX(0); } 25% { transform: translateX(-8px); } 75% { transform: translateX(8px); } }
    
    .confetti { position: fixed; width: 10px; height: 10px; background-color: #f00; animation: fall linear forwards; z-index: 100; }
    @keyframes fall { to { transform: translateY(100vh) rotate(720deg); } }
  </style>
</head>
<body>

<div class="top-bar">
    <a href="index.html" class="back-btn">‚úï</a>
    <div class="nav-mini-container">
      <button class="btn-nav-mini" id="prev-btn" onclick="prevQuestion()">‚¨ÖÔ∏è</button>
      <button class="btn-nav-mini" id="next-btn" onclick="nextQuestion()">‚û°Ô∏è</button>
    </div>
    <div class="streak-container">
      <span id="streak-icon">üî•</span>
      <span id="streak-count">0</span>
    </div>
  </div>
  </div>

  <div class="quiz-container" id="quiz-container">
    <div class="timer-wrapper"><div class="timer-bar" id="timer-bar"></div></div>

    <div class="question-card" id="question-card">
      <div class="q-number" id="q-number">√éntrebarea 1</div>
      <p class="q-text" id="q-text">Se √ÆncarcƒÉ...</p>
      <div class="answers-list" id="answers-list"></div>
    </div>

    <div class="controls">
      <button class="btn btn-learn" id="learn-btn" onclick="triggerLearnMode()">üëÄ √énva»õƒÉ</button>
      <button class="btn btn-primary" id="action-btn" onclick="handleAction()">VerificƒÉ</button>
    </div>
  </div>

  <script>
    /* GRILE FINAN»öE PUBLICE - Toate cele 57 de √ÆntrebƒÉri */
    const questions = [
      {
        question: "1. La care din urmƒÉtorii indicatori un nivel c√¢t mai scƒÉzut exprimƒÉ o eficien»õƒÉ economicƒÉ mai mare:",
        answers: ["a) profitul actualizat", "b) venitul net actualizat", "c) investi»õia specificƒÉ", "d) rata de actualizare", "e) efectul (negativ al) imobilizƒÉrii fondurilor financiare investite"],
        correct: [2, 4] // I_spec mic »ôi Efect imobilizare mic = Eficien»õƒÉ mare
      },
      {
        question: "2. Care din urmƒÉtoarele afirma»õii sunt adevƒÉrate:",
        answers: ["a) cheltuielile bugetare (ale statului) nu se includ √Æn conceptul de cheltuialƒÉ publicƒÉ √Æn sens larg", "b) cheltuielile materiale ale √Æntreprinderilor cu capital de stat nu se regƒÉsesc √Æn cheltuielile bugetare", "c) √Æn concep»õia modernƒÉ, cheltuielile publice sunt privite ca procese de realocare a resurselor", "d) √Æn sens economic restr√¢ns, conceptul de cheltuialƒÉ publicƒÉ semnificƒÉ numai plƒÉ»õile efectuate pentru func»õionarea institu»õiilor bugetare"],
        correct: [1, 2] 
      },
      {
        question: "3. Printre sursele de finan»õare a cheltuielilor publice cu √ÆnvƒÉ»õƒÉm√¢ntul se pot regƒÉsi:",
        answers: ["a) donatii sau ajutoare externe", "b) venituri proprii realizate de institu»õiile de √ÆnvƒÉ»õƒÉm√¢nt", "c) fondul bugetar", "d) lipsa de c√¢»ôtiguri a elevilor/studen»õilor pe durata studiilor"],
        correct: [0, 1, 2]
      },
      {
        question: "4. √én sens juridic, conceptul de cheltuialƒÉ publicƒÉ se referƒÉ la:",
        answers: ["a) plƒÉ»õile efectuate pentru func»õionarea institu»õiilor publice", "b) sume alocate din bugetul public", "c) cheltuielile bugetare", "d) ansamblul proceselor economice de consum public de resurse"],
        correct: [0]
      },
      {
        question: "5. Ac»õiunea unei 'legi a nevoilor financiare cresc√¢nde ale statului »ôi organelor autonome' reprezintƒÉ pozi»õia fa»õƒÉ de cre»ôterea cheltuielilor publice exprimatƒÉ de:",
        answers: ["a) Robert Noll von der Nahmer", "b) Adolph Wagner", "c) John Maynard Keynes", "d) Adam Smith"],
        correct: [1]
      },
      {
        question: "6. √én categoria cheltuielilor militare indirecte se includ:",
        answers: ["a) Cheltuielile cu procurarea de bunuri »ôi servicii necesare bunei func»õionƒÉri a organismului militar", "b) PlƒÉ»õile de dob√¢nzi la √Æmprumuturile publice contractate pentru √Ænzestrarea armatei", "c) Cheltuielile pentru dotarea cu armament »ôi tehnicƒÉ militarƒÉ", "d) Cheltuielile cu pensiile plƒÉtite invalizilor de rƒÉzboi", "e) Cheltuielile cu salariile personalului militar"],
        correct: [1, 3] // Dob√¢nzi »ôi pensii
      },
      {
        question: "7. Cheltuielile publice temporare:",
        answers: ["a) Sunt acele cheltuieli pe care statul se angajeazƒÉ sƒÉ le efectueze √Æn anumite condi»õii", "b) Sunt cheltuieli care se finalizeazƒÉ cu plƒÉ»õi la scaden»õe certe", "c) ReprezintƒÉ opera»õiuni de trezorerie »ôi sunt reflectate √Æn conturile speciale ale trezoreriei", "d) Sunt cheltuieli de natura √Æmprumuturilor acordate de autoritƒÉ»õile publice"],
        correct: [2]
      },
      {
        question: "8. Pentru a calcula indicele cre»ôterii relative nominale a cheltuielilor publice este necesar a cunoa»ôte:",
        answers: ["a) Volumul cheltuielilor publice (√Æn perioada curentƒÉ »ôi √Æn perioada de bazƒÉ) √Æn pre»õuri constante", "b) Ponderea cheltuielilor publice √Æn produsul intern brut √Æn cele douƒÉ perioade", "c) Volumul cheltuielilor publice (√Æn perioada curentƒÉ »ôi √Æn perioada de bazƒÉ) √Æn pre»õuri curente", "d) Produsul intern brut (√Æn perioada de bazƒÉ »ôi perioada curentƒÉ) exprimat √Æn pre»õuri constante"],
        correct: [2] // Cre»ôtere nominalƒÉ = valori curente
      },
      {
        question: "9. Cheltuielile cu achizi»õionarea echipamentelor necesare √Ængrijirii bolnavilor √Æn unitƒÉ»õile sanitare publice se √ÆncadreazƒÉ √Æn categoria:",
        answers: ["a) cheltuielilor (publice) de capital", "b) cheltuielilor (publice) pentru ac»õiuni social-culturale", "c) cheltuielilor (publice) de transfer", "d) cheltuielilor (publice) virtuale"],
        correct: [0, 1]
      },
      {
        question: "10. Care dintre urmƒÉtoarele afirma»õii cu privire la cheltuielile pentru servicii publice generale sunt adevƒÉrate:",
        answers: ["a) √én structura acestora se regƒÉsesc cheltuielile publice ale organelor puterii judecƒÉtore»ôti", "b) Se particularizeazƒÉ prin faptul cƒÉ √Æn cadrul lor, cheltuielile curente de»õin o pondere neglijabilƒÉ", "c) Sunt acoperite √Æn principal pe seama fondurilor cu destina»õie specialƒÉ", "d) Cuprind cheltuieli referitoare la asigurƒÉrile sociale"],
        correct: [0]
      },
      {
        question: "11. Care din urmƒÉtoarele formulƒÉri cu privire la cheltuielile publice pentru ac»õiuni social-culturale sunt adevƒÉrate:",
        answers: ["a) Sunt considerate, √Æn concep»õia modernƒÉ, cheltuieli fƒÉrƒÉ impact pozitiv asupra PIB", "b) Sursa principalƒÉ de finan»õare a acestor cheltuieli o constituie fondurile extrabugetare", "c) Prin con»õinutul lor, au √Æn vedere ac»õiuni de interes general ce se √Æntreprind √Æn scopul asigurƒÉrii de servicii publice destinate popula»õiei √Æn ansamblu", "d) ReprezintƒÉ, √Æn »õƒÉrile dezvoltate, cea mai √ÆnsemnatƒÉ categorie de cheltuieli publice"],
        correct: [2, 3]
      },
      {
        question: "12. √én calculul indemniza»õiei de »ôomaj sunt luate √Æn considerare:",
        answers: ["a) Valoarea indicatorului social de referin»õƒÉ", "b) Durata stagiului de cotizare", "c) MƒÉrimea altor venituri ale »ôomerului", "d) Pierderea de venit determinatƒÉ de pierderea locului de muncƒÉ"],
        correct: [0, 1]
      },
      {
        question: "13. √én sistemul englez (Beveridge) de ocrotire a sƒÉnƒÉtƒÉ»õii:",
        answers: ["a) salaria»õii »ôi angajatorii suportƒÉ contribu»õii obligatorii pentru finan»õarea sistemului de sƒÉnƒÉtate", "b) accesul la serviciile medicale nu este restric»õionat de contributivitate", "c) cheltuielile publice destinate ocrotirii sƒÉnƒÉtƒÉ»õii se finan»õeazƒÉ prin Case de AsigurƒÉri", "d) asigura»õii plƒÉtesc impozite propor»õionale cu riscul de √ÆmbolnƒÉvire"],
        correct: [1]
      },
      {
        question: "14. √éntre costurile luate √Æn calcul √Æn analiza cost-avantaje se pot men»õiona:",
        answers: ["a) cheltuielile de exploatare", "b) cheltuielile cu lucrƒÉrile de construc»õii", "c) cheltuielile cu achizi»õiile de utilaje »ôi instala»õii, inclusiv montajul acestora", "d) cheltuielile cu cercetarea »ôi proiectarea"],
        correct: [0, 1, 2, 3]
      },
      {
        question: "15. Ce factori ce au determinat cre»ôterea semnificativƒÉ, √Æn ultimele decenii, a cheltuielilor publice pentru ocrotirea sƒÉnƒÉtƒÉ»õii, se pot men»õiona:",
        answers: ["a) Amplificarea factorilor de risc", "b) Cre»ôterea demograficƒÉ", "c) Cre»ôterea costului serviciilor medicale", "d) Cre»ôterea numƒÉrului personalului angajat √Æn unitƒÉ»õile sanitare"],
        correct: [0, 1, 2, 3]
      },
      {
        question: "16. Fondul bugetar destinat plƒÉ»õii func»õionarilor din administra»õia centralƒÉ este:",
        answers: ["a) Un fond financiar de √Ænlocuire »ôi dezvoltare, public, de nivel central (macroeconomic)", "b) Un fond financiar de consum, public, de nivel microeconomic", "c) Un fond financiar de consum, public, de nivel central (macroeconomic)", "d) Un fond financiar de consum, public, ce reflectƒÉ ipostaza statului de autoritate publicƒÉ"],
        correct: [2]
      },
      {
        question: "17. √én concep»õia lui J.M. Keynes, la o cre»ôtere a veniturilor indivizii vor reac»õiona prin:",
        answers: ["a) cheltuirea integralƒÉ a sporului de venit", "b) reducerea volumului de muncƒÉ", "c) cre»ôterea consumului, dar nu propor»õional cu cre»ôterea venitului", "d) cre»ôterea pƒÉr»õii din venit alocatƒÉ consumului unor bunuri de folosin»õƒÉ √ÆndelungatƒÉ"],
        correct: [2]
      },
      {
        question: "18. Care din urmƒÉtoarele afirma»õii sunt adevƒÉrate:",
        answers: ["a) Func»õia de reglare atribuitƒÉ finan»õelor semnificƒÉ implicarea efectivƒÉ a acestora √Æn reglarea activitƒÉ»õilor economico-sociale", "b) Activitatea financiarƒÉ ce concretizeazƒÉ func»õia de reparti»õie oferƒÉ suportul obiectiv necesar exercitƒÉrii controlului financiar", "c) Controlul financiar favorizeazƒÉ √Ændeplinirea func»õiei de reparti»õie, dar nu poate genera noi procese de reparti»õie", "d) √éndeplinirea func»õiei finan»õelor de reparti»õie marcheazƒÉ diferen»õieri semnificative la nivel macroeconomic comparativ cu nivelul microeconomic"],
        correct: [0, 1, 3]
      },
      {
        question: "19. Cheltuielile publice cu acordarea de subven»õii sectorului privat:",
        answers: ["a) Pot fi considerate o p√¢rghie financiarƒÉ", "b) Pot fi utilizate ca mijloc de stimulare a exporturilor", "c) Contravin concep»õiei moderne despre cheltuielile publice", "d) Fac parte din categoria cheltuielilor pentru ac»õiuni economice"],
        correct: [0, 1, 3]
      },
      {
        question: "20. Pentru a calcula indicele cre»ôterii relative reale a cheltuielilor publice este necesar a cunoa»ôte:",
        answers: ["a) Produsul intern brut (√Æn perioada de bazƒÉ »ôi perioada curentƒÉ) exprimat √Æn pre»õuri curente", "b) Volumul cheltuielilor publice (√Æn perioada curentƒÉ »ôi √Æn perioada de bazƒÉ) √Æn pre»õuri constante", "c) Ponderea cheltuielilor publice √Æn produsul intern brut √Æn cele douƒÉ perioade", "d) Produsul intern brut (√Æn perioada de bazƒÉ »ôi perioada curentƒÉ) exprimat √Æn pre»õuri constante"],
        correct: [1] // Trebuie mƒÉrimi reale (constante)
      },
      {
        question: "21. Aplicarea de solu»õii tehnice rapide √Æn realizarea lucrƒÉrilor de investi»õii (publice) are ca efect:",
        answers: ["a) reducerea investi»õiilor specifice", "b) reducerea sumei totale ce se investe»ôte", "c) reducerea efectului (negativ al) imobilizƒÉrii", "d) cre»ôterea duratei de execu»õie a obiectivului de investi»õii"],
        correct: [2]
      },
      {
        question: "22. Ca efecte economice benefice ale finan»õƒÉrii cheltuielilor publice pentru ocrotirea sƒÉnƒÉtƒÉ»õii:",
        answers: ["a) eradicarea unor boli profesionale", "b) cre»ôterea speran»õei medii de via»õƒÉ la na»ôtere", "c) refacerea »ôi pƒÉstrarea sƒÉnƒÉtƒÉ»õii persoanelor care beneficiazƒÉ de asigurare medicalƒÉ", "d) cre»ôterea perioadei active a vie»õii"],
        correct: [0, 3] // Impact economic asupra for»õei de muncƒÉ
      },
    {
        question: "23. Care din urmatoarele afirmatii sunt adevarate:",
        answers: ["a)	Functia de reglare atribuita finantelor semnifica implicarea efectiva a acestora√Æn reglarea activitƒÉ≈£ilor economico-sociale;", "b)	Controlul financiar favorizeaza indeplinirea functiei de repartitie dar nu poategenera noi procese de reparti≈£ie", "c)	Activitatea financiara ce concretizeaza functia de repartitie ofera suportul obiectiv necesar exercitƒÉrii controlului financiar;", "d)	Indeplinirea functiei finantelor de repartitie marcheaza diferentieri demnificative la nivel macroeconomic comparativ cu nivelul microeconomic."],
        correct: [0, 2, 3]
      },
      {
        question: "24. √én balan»õa financiarƒÉ a statului, la venituri curente se includ:",
        answers: ["a) transferurile de capital primite", "b) veniturile provenite de la √Æntreprinderile »ôi proprietƒÉ»õile statului", "c) impozitele directe »ôi indirecte", "d) dob√¢nzile plƒÉtite aferente datoriei publice"],
        correct: [1, 2]
      },
      {
        question: "25. Printre factorii demografici de influen»õƒÉ asupra evolu»õiei cheltuielilor publice se numƒÉrƒÉ:",
        answers: ["a) preocuparea statului pentru o mai bunƒÉ repartizare a veniturilor √Æn societate", "b) cre»ôterea duratei medii de via»õƒÉ", "c) acordarea de sprijin material unor categorii sociale defavorizate", "d) modificƒÉrile structurale ale popula»õiei pe v√¢rste, categorii socio-profesionale"],
        correct: [1, 3]
      },
      {
        question: "26. Latura obiectivƒÉ a √Ændeplinirii de cƒÉtre finan»õele publice a func»õiei de control asupra activitƒÉ»õii reiese din:",
        answers: ["a) exercitarea atribu»õiilor de control de cƒÉtre persoane cu atribu»õii specifice √Æn domeniu", "b) manifestarea finan»õelor ca procese »ôi rela»õii economice √Æn formƒÉ bƒÉneascƒÉ", "c) √Ændeplinirea de cƒÉtre bani a func»õiilor specifice", "d) modalitƒÉ»õile »ôi tehnicile de realizare a controlului financiar"],
        correct: [1]
      },
      {
        question: "27. √én cheltuielile publice bugetare pentru √ÆnvƒÉ»õƒÉm√¢nt nu se includ:",
        answers: ["a) cheltuielile de √Æntre»õinere »ôi repara»õii curente a mijloacelor fixe", "b) impozitul pe salariile aferente personalului didactic »ôi auxiliar", "c) subven»õiile acordate cantinelor »ôi cƒÉminelor", "d) cheltuielile suportate din taxele »ôcolare", "e) salariile brute ale personalului didactic »ôi auxiliar"],
        correct: [3]
      },
      {
        question: "28. √én sfera finan»õelor locale:",
        answers: ["a) transferul de valoare vizeazƒÉ satisfacerea unor nevoi de interes local", "b) dimensiunile proceselor »ôi rela»õiilor financiare nu sunt influen»õate de tipul de organizare", "c) nu este posibilƒÉ contractarea de √Æmprumuturi", "d) transferul de valoare se realizeazƒÉ cu caracter definitiv sau rambursabil"],
        correct: [0]
      },
      {
        question: "29. Pentru a calcula indicele cre»ôterii relative nominale a cheltuielilor publice este necesar a cunoaste :",
        answers: ["a) produsul intern brut (√Æn perioada de bazƒÉ »ôi perioada curentƒÉ) exprimat √Æn pre»õuri constante", "b) volumul cheltuielilor publice (√Æn perioada curentƒÉ »ôi √Æn perioada de bazƒÉ) √Æn pre»õuri constante", "c) ponderea cheltuielilor publice √Æn produsul intern brut √Æn cele douƒÉ perioade", "d) volumul cheltuielilor publice (√Æn perioada curentƒÉ »ôi √Æn perioada de bazƒÉ) √Æn pre»õuri curente"],
        correct: [3] 
      },
      {
        question: "30. √én calculul indemniza»õiei de »ôomaj sunt luate √Æn considerare:",
        answers: ["a) pierderea de venit determinatƒÉ de pierderea locului de muncƒÉ", "b) durata stagiului de cotizare", "c) valoarea indicatorului social de referin»õƒÉ", "d) mƒÉrimea altor venituri ale »ôomerului"],
        correct: [1, 2]
      },
      {
        question: "31. Recuperarea mai rapidƒÉ a resurselor financiare (publice) investite √Æntr-un obiectiv economic presupune:",
        answers: ["a) cre»ôterea profitului ob»õinut din exploatarea obiectivului respectiv", "b) reducerea duratei de executare a obiectivului de investi»õie", "c) e»ôalonarea crescƒÉtoare a cheltuielilor de investi»õii", "d) e»ôalonarea descrescƒÉtoare a cheltuielilor de investi»õii", "e) cre»ôterea veniturilor anuale obtenabile √Æn perioada de exploatare a obiectivului"],
        correct: [0, 1, 4]
      },
    ];


    let currentQ = 0;
    let totalScore = 0;
    let streak = 0;
    
    // Aici vom »õine minte ordinea amestecatƒÉ a √ÆntrebƒÉrilor
    let shuffledQuestions = [];
    
    // Aici memorƒÉm starea fiecƒÉrei √ÆntrebƒÉri (rƒÉspunsuri, ordine, punctaj)
    let quizState = []; 

    // Referin»õe UI
    const qText = document.getElementById("q-text");
    const qNum = document.getElementById("q-number");
    const answersList = document.getElementById("answers-list");
    const actionBtn = document.getElementById("action-btn");
    const learnBtn = document.getElementById("learn-btn");
    const streakEl = document.getElementById("streak-count");
    const timerBar = document.getElementById("timer-bar");
    const prevBtn = document.getElementById("prev-btn");
    const nextBtn = document.getElementById("next-btn");

    // Func»õie de amestecare (Fisher-Yates Shuffle)
    function shuffleArray(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
      return array;
    }

    function initQuiz() {
      currentQ = 0;
      totalScore = 0;
      streak = 0;
      
      // 1. Facem o copie a √ÆntrebƒÉrilor »ôi o amestecƒÉm
      shuffledQuestions = JSON.parse(JSON.stringify(questions)); // Copie ad√¢ncƒÉ
      shuffleArray(shuffledQuestions);

      // 2. ResetƒÉm memoria (state)
      quizState = new Array(shuffledQuestions.length).fill(null);
      
      updateStreakUI();
      loadQuestion();
    }

function loadQuestion() {
      // 1. Gestionare butoane navigare
      prevBtn.disabled = (currentQ === 0);
      nextBtn.disabled = (currentQ === shuffledQuestions.length - 1);

      // 2. Resetare barƒÉ timp
      timerBar.style.transition = "none";
      timerBar.style.transform = "scaleX(1)";
      setTimeout(() => {
        timerBar.style.transition = "transform 60s linear";
        timerBar.style.transform = "scaleX(0)";
      }, 100);

      // 3. Datele √éntrebƒÉrii
      const q = shuffledQuestions[currentQ];
      
      // DacƒÉ vrei sƒÉ cure»õi »ôi numƒÉrul din fa»õa √ÆntrebƒÉrii (ex: "1. √éntrebare" -> "√éntrebare")
      // folose»ôte linia asta. DacƒÉ nu, las-o pe cea simplƒÉ.
      let cleanQuestionText = q.question.replace(/^\d+[\.\)]\s*/, ''); 
      
      qNum.innerText = `√éntrebarea ${currentQ + 1} / ${shuffledQuestions.length}`;
      qText.innerText = cleanQuestionText; // Sau q.question dacƒÉ vrei sƒÉ pƒÉstrezi numƒÉrul original
      answersList.innerHTML = "";

      // 4. Gestionare Stare (Memorie)
      let currentState = quizState[currentQ];

      if (!currentState) {
        // Amestecare ini»õialƒÉ
        let answerPairs = q.answers.map((text, idx) => ({ text: text, originalIdx: idx }));
        shuffleArray(answerPairs);
        
        currentState = {
            answered: false,
            answerOrder: answerPairs,
            selectedIdx: [],
            btnText: "VERIFICƒÇ",
            btnColor: "var(--accent)"
        };
        quizState[currentQ] = currentState;
      }

      // Configurare Buton Ac»õiune
      actionBtn.innerText = currentState.btnText;
      actionBtn.style.background = currentState.btnColor;
      
      if (currentState.answered) {
          actionBtn.onclick = () => nextQuestion();
          learnBtn.style.display = "none";
      } else {
          actionBtn.onclick = handleAction;
          learnBtn.style.display = "block";
      }

      // 5. Generare HTML RƒÉspunsuri (AICI E MAGIA CU LITERELE)
      const letters = ['a', 'b', 'c', 'd', 'e', 'f', 'g']; // Literele ordonate

      currentState.answerOrder.forEach((pair, domIndex) => {
        const div = document.createElement("label");
        div.className = "answer-option";
        
        // --- AICI CURƒÇ»öƒÇM TEXTUL VECHI ---
        // Expresia regulatƒÉ »ôterge orice √Æncepe cu o literƒÉ urmatƒÉ de ) sau . »ôi spa»õiu
        // Ex: "a) Text" devine "Text" | "b. Text" devine "Text"
        let cleanText = pair.text.replace(/^[a-zA-Z0-9]+[\.\)]\s*/, '');

        // --- AICI PUNEM LITERA NOUƒÇ CORECTƒÇ ---
        // LuƒÉm litera corespunzƒÉtoare pozi»õiei actuale (0->a, 1->b...)
        let newLabel = letters[domIndex] + ") "; 

        // VerificƒÉm dacƒÉ a fost bifat
        let isChecked = currentState.selectedIdx.includes(pair.originalIdx);

        div.innerHTML = `
          <input type="checkbox" name="ans" value="${pair.originalIdx}" ${isChecked ? "checked" : ""}>
          <div class="custom-check"></div>
          <span class="ans-text"><b>${newLabel}</b>${cleanText}</span>
        `;

        // LogicƒÉ de afi»ôare (Colorare/Dezactivare) dacƒÉ e deja rƒÉspuns
        if (currentState.answered) {
            div.style.pointerEvents = "none";
            div.querySelector("input").disabled = true;
            
            const isCorrect = q.correct.includes(pair.originalIdx);
            
            if (isCorrect) div.classList.add("correct");
            if (isChecked && !isCorrect) div.classList.add("wrong");
        } else {
            div.querySelector("input").addEventListener("change", function() {
              if(this.checked) div.classList.add("selected");
              else div.classList.remove("selected");
            });
        }
        
        if (isChecked && !currentState.answered) div.classList.add("selected");

        answersList.appendChild(div);
      });
    }

    function handleAction() {
      checkAnswer();
    }

    function checkAnswer() {
      const checked = Array.from(document.querySelectorAll('input[name="ans"]:checked'));
      if (checked.length === 0) return; 

      // Ob»õinem indexurile originale (pentru cƒÉ value = originalIdx)
      const userIdx = checked.map(c => parseInt(c.value));
      const q = shuffledQuestions[currentQ];
      const correctIdx = q.correct;

      // --- CALCUL MATEMATIC ---
      let correctSelected = 0;
      let wrongSelected = 0;

      userIdx.forEach(idx => {
        if (correctIdx.includes(idx)) correctSelected++;
        else wrongSelected++;
      });

      let ratio = (correctSelected - wrongSelected) / correctIdx.length;
      if (ratio < 0) ratio = 0;

      const pointsPerQuestion = 10 / shuffledQuestions.length;
      const pointsEarned = ratio * pointsPerQuestion;
      
      totalScore += pointsEarned;

      // --- Feedback UI ---
      let btnText = "";
      let btnColor = "";

      if (ratio === 1) {
        streak++;
        btnText = "CORECT! üëè";
        btnColor = "var(--correct)";
        // Navigare automatƒÉ
        setTimeout(() => { 
            if(currentQ < shuffledQuestions.length - 1) nextQuestion(); 
        }, 1200);
      } else {
        streak = 0;
        const pts = pointsEarned.toFixed(2);
        if (ratio > 0) {
            btnText = `PAR»öIAL: +${pts}p`;
            btnColor = "var(--warning)";
        } else {
            btnText = "GRE»òIT: 0p";
            btnColor = "var(--wrong)";
        }
      }

      // --- SALVƒÇM REZULTATUL ---
      // ActualizƒÉm starea din memorie
      quizState[currentQ].answered = true;
      quizState[currentQ].selectedIdx = userIdx;
      quizState[currentQ].btnText = btnText;
      quizState[currentQ].btnColor = btnColor;

      updateStreakUI();
      
      // Re√ÆncƒÉrcƒÉm pentru a aplica stilurile de "disabled" »ôi culorile
      loadQuestion();
    }

    function triggerLearnMode() {
      // Modul √Ænva»õƒÉ: marcƒÉm ca rƒÉspuns (fƒÉrƒÉ puncte) dar arƒÉtƒÉm solu»õia
      quizState[currentQ].answered = true;
      quizState[currentQ].selectedIdx = []; // Nimic selectat
      quizState[currentQ].btnText = "MOD √éNVƒÇ»öARE";
      quizState[currentQ].btnColor = "var(--accent)";
      
      streak = 0;
      updateStreakUI();
      loadQuestion();
    }

    // --- NAVIGARE ---
    function prevQuestion() {
      if (currentQ > 0) {
        currentQ--;
        loadQuestion();
      }
    }

    function nextQuestion() {
      if (currentQ < shuffledQuestions.length - 1) {
        currentQ++;
        loadQuestion();
      } else {
        showResults();
      }
    }

    function showResults() {
      const container = document.getElementById("quiz-container");
      const finalGrade = totalScore.toFixed(2);
      
      if(totalScore >= 5) fireConfetti();
      let msg = "";
      if (totalScore >= 10) msg = "I-ai dat fatala vere!!";
      else if (totalScore >= 9) msg = "L-ai fƒÉcut vere pe zugri! üëè";
      else if (totalScore >= 7) msg = "E de la tine üëç";
      else if (totalScore >= 5) msg = "Ai avut noroc! üëç";
      else msg = "SLAB RƒÇU! üìâ";

      container.innerHTML = `
        <div class="result-view">
          <div class="score-circle">
            <span style="z-index:2; color:white; font-size: 2.5rem;">${finalGrade}</span>
          </div>
          <h1 style="margin:0;">${msg}</h1>
          <p style="color:var(--text-muted); font-size:1.2rem; margin-top:10px;">
            Nota finalƒÉ: ${finalGrade} din 10
          </p>
          <div class="controls" style="margin-top:40px;">
             <button class="btn btn-secondary" onclick="location.href='index.html'">Meniu</button>
             <button class="btn btn-primary" onclick="location.reload()">Din Nou</button>
          </div>
        </div>
      `;
    }

    function updateStreakUI() {
      streakEl.innerText = streak;
      if(streak > 2) streakEl.parentElement.style.background = "rgba(255, 255, 255, 0.3)";
      else streakEl.parentElement.style.background = "rgba(255, 255, 255, 0.1)";
    }

    function fireConfetti() {
      const colors = ['#10b981', '#34d399', '#f59e0b', '#ffffff'];
      for (let i = 0; i < 50; i++) {
        const conf = document.createElement('div');
        conf.className = 'confetti';
        conf.style.left = Math.random() * 100 + 'vw';
        conf.style.top = -10 + 'px';
        conf.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
        conf.style.animationDuration = (Math.random() * 3 + 2) + 's';
        document.body.appendChild(conf);
      }
    }

    // Pornire automatƒÉ la √ÆncƒÉrcarea paginii
    initQuiz();
  </script>
</body>
</html>