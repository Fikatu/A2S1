<!DOCTYPE html>
<html lang="ro">
<head>
  <meta charset="UTF-8">
  <title>Finan»õe Publice</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;500;700&display=swap" rel="stylesheet">
  
  <style>
:root {
      --bg-dark: #0f172a;
      --card-dark: #1e293b;
      /* Po»õi schimba culoarea accentului √Æn func»õie de materie */
      --accent: #2563eb; 
      --accent-glow: #60a5fa;
      --correct: #10b981;
      --wrong: #ef4444;
      --warning: #f59e0b;
      --text-main: #f8fafc;
      --text-muted: #94a3b8;
      --radius: 24px;
    }

    * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

    body {
      margin: 0;
      padding: 0;
      font-family: 'Outfit', sans-serif;
      background-color: var(--bg-dark);
      color: var(--text-main);
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      overflow-x: hidden;
      /* Fundal generic - se poate personaliza per fi»ôier */
      background-image: 
        radial-gradient(circle at 10% 20%, rgba(37, 99, 235, 0.15) 0%, transparent 25%),
        radial-gradient(circle at 90% 80%, rgba(16, 185, 129, 0.1) 0%, transparent 25%);
    }

    /* --- BARA DE SUS (NAVIGARE) --- */
    .top-bar {
      width: 100%;
      max-width: 700px;
      padding: 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      z-index: 10;
      position: relative; /* Esen»õial pentru centrarea sƒÉge»õilor */
    }

    .back-btn {
      background: rgba(255,255,255,0.1);
      border: none;
      color: var(--text-main);
      width: 44px;
      height: 44px;
      border-radius: 12px;
      font-size: 1.2rem;
      cursor: pointer;
      display: grid;
      place-items: center;
      transition: 0.2s;
      text-decoration: none;
    }
    .back-btn:hover { background: rgba(255,255,255,0.2); }

    /* Containerul pentru sƒÉge»õi (Centrat Absolut) */
    .nav-mini-container {
      display: flex;
      gap: 15px;
      position: absolute;
      left: 50%;
      transform: translateX(-50%);
    }

    .btn-nav-mini {
      background: rgba(255, 255, 255, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.15);
      color: var(--text-main);
      width: 44px;
      height: 44px;
      border-radius: 12px;
      cursor: pointer;
      display: grid;
      place-items: center;
      font-size: 1.2rem;
      transition: all 0.2s;
      backdrop-filter: blur(5px);
    }
    .btn-nav-mini:hover {
      background: rgba(255, 255, 255, 0.25);
      transform: scale(1.05);
      border-color: var(--text-main);
    }
    .btn-nav-mini:disabled {
      opacity: 0.3;
      cursor: not-allowed;
      transform: none;
    }

    .streak-container {
      display: flex;
      align-items: center;
      gap: 6px;
      background: rgba(255, 255, 255, 0.1);
      padding: 8px 16px;
      border-radius: 20px;
      font-weight: 700;
      font-size: 0.9rem;
      border: 1px solid rgba(255, 255, 255, 0.2);
    }

    /* --- ZONA DE QUIZ --- */
    .quiz-container {
      width: 100%;
      max-width: 650px;
      flex: 1;
      display: flex;
      flex-direction: column;
      padding: 10px 20px 40px;
      position: relative;
    }

    .timer-wrapper {
      width: 100%;
      height: 6px;
      background: #334155;
      border-radius: 10px;
      margin-bottom: 20px;
      overflow: hidden;
    }
    .timer-bar {
      height: 100%;
      width: 100%;
      background: linear-gradient(90deg, var(--accent), var(--accent-glow));
      border-radius: 10px;
      transform-origin: left;
    }

    .question-card {
      background: var(--card-dark);
      border-radius: var(--radius);
      padding: 30px;
      box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
      border: 1px solid rgba(255,255,255,0.05);
      animation: fadeInScale 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
      margin-bottom: 20px;
    }

    .q-number { color: var(--text-muted); font-size: 0.85rem; text-transform: uppercase; letter-spacing: 1.5px; margin-bottom: 10px; font-weight: 700; }
    .q-text { font-size: 1.25rem; line-height: 1.5; font-weight: 600; margin: 0 0 15px 0; }

    .answers-list { display: flex; flex-direction: column; gap: 12px; }
    
    .answer-option {
      position: relative;
      background: rgba(255,255,255,0.03);
      border: 2px solid rgba(255,255,255,0.08);
      padding: 18px 20px;
      border-radius: 16px;
      cursor: pointer;
      transition: all 0.2s;
      display: flex;
      align-items: flex-start;
      gap: 15px;
      font-size: 1rem;
    }
    .answer-option:hover { background: rgba(255,255,255,0.06); border-color: rgba(255,255,255,0.2); }
    
    .custom-check {
      width: 24px; height: 24px; border: 2px solid var(--text-muted); border-radius: 8px; flex-shrink: 0; display: grid; place-items: center; margin-top: 2px;
    }
    .custom-check::after { content: '‚úî'; font-size: 14px; color: #fff; transform: scale(0); transition: 0.2s; }
    input[type="checkbox"] { display: none; }
    
    input:checked + .custom-check { background: var(--accent); border-color: var(--accent); }
    input:checked + .custom-check::after { transform: scale(1); }
    
    /* StƒÉri speciale pentru rƒÉspunsuri */
    .answer-option.selected { background: rgba(255, 255, 255, 0.1); border-color: var(--accent); }
    
    .answer-option.correct { background: rgba(16, 185, 129, 0.15) !important; border-color: var(--correct) !important; }
    .answer-option.correct .custom-check { background: var(--correct) !important; border-color: var(--correct) !important; }

    .answer-option.wrong { background: rgba(239, 68, 68, 0.15) !important; border-color: var(--wrong) !important; animation: shake 0.4s ease; }
    .answer-option.wrong .custom-check { background: var(--wrong) !important; border-color: var(--wrong) !important; }
    .answer-option.wrong .custom-check::after { content: '‚úñ'; }
    .nav-mini-container {
      display: flex;
      gap: 15px;
      position: absolute;
      left: 50%;
      transform: translateX(-50%);
      z-index: 9999; /* <--- Asta e cheia! Le for»õeazƒÉ sƒÉ fie deasupra tuturor */
      pointer-events: auto; /* Se asigurƒÉ cƒÉ primesc click-uri */
    }
    .top-bar {
      /* ... alte reguli ... */
      position: relative;
      z-index: 1000;
    }

    /* --- CONTROLS (JOS) --- */
    .controls { display: flex; gap: 15px; margin-top: auto; }
    
    .btn { flex: 1; padding: 18px; border-radius: 16px; border: none; font-family: inherit; font-weight: 700; font-size: 1rem; cursor: pointer; text-transform: uppercase; letter-spacing: 1px; transition: 0.2s; }
    
    .btn-primary { background: var(--accent); color: white; box-shadow: 0 4px 0 rgba(0,0,0,0.2); }
    .btn-primary:active { transform: translateY(2px); box-shadow: none; }
    
    .btn-learn { background: rgba(255, 255, 255, 0.05); color: var(--warning); border: 1px solid var(--warning); }
    .btn-secondary { background: transparent; border: 2px solid var(--text-muted); color: var(--text-muted); }

    /* --- REZULTATE --- */
    .result-view { text-align: center; padding: 40px 20px; animation: slideUp 0.5s ease; }
    .score-circle { width: 180px; height: 180px; border-radius: 50%; border: 8px solid var(--card-dark); background: conic-gradient(var(--accent) 0%, var(--card-dark) 0%); margin: 0 auto 30px; display: grid; place-items: center; font-size: 3.5rem; font-weight: 800; position: relative; box-shadow: 0 0 30px rgba(0,0,0,0.3); }
    .score-circle::before { content: ''; position: absolute; inset: 10px; background: var(--bg-dark); border-radius: 50%; z-index: -1; }

    .hidden { display: none !important; }
    @keyframes fadeInScale { from { opacity: 0; transform: scale(0.95); } to { opacity: 1; transform: scale(1); } }
    @keyframes slideUp { from { opacity: 0; transform: translateY(40px); } to { opacity: 1; transform: translateY(0); } }
    @keyframes shake { 0%, 100% { transform: translateX(0); } 25% { transform: translateX(-8px); } 75% { transform: translateX(8px); } }
    
    .confetti { position: fixed; width: 10px; height: 10px; background-color: #f00; animation: fall linear forwards; z-index: 100; }
    @keyframes fall { to { transform: translateY(100vh) rotate(720deg); } }
  </style>
</head>
<body>

<div class="top-bar">
    <a href="index.html" class="back-btn">‚úï</a>
    <div class="nav-mini-container">
      <button class="btn-nav-mini" id="prev-btn" onclick="prevQuestion()">‚¨ÖÔ∏è</button>
      <button class="btn-nav-mini" id="next-btn" onclick="nextQuestion()">‚û°Ô∏è</button>
    </div>
    <div class="streak-container">
      <span id="streak-icon">üî•</span>
      <span id="streak-count">0</span>
    </div>
  </div>
  </div>

  <div class="quiz-container" id="quiz-container">
    <div class="timer-wrapper"><div class="timer-bar" id="timer-bar"></div></div>

    <div class="question-card" id="question-card">
      <div class="q-number" id="q-number">√éntrebarea 1</div>
      <p class="q-text" id="q-text">Se √ÆncarcƒÉ...</p>
      <div class="answers-list" id="answers-list"></div>
    </div>

    <div class="controls">
      <button class="btn btn-learn" id="learn-btn" onclick="triggerLearnMode()">üëÄ √énva»õƒÉ</button>
      <button class="btn btn-primary" id="action-btn" onclick="handleAction()">VerificƒÉ</button>
    </div>
  </div>

  <script>
    /* GRILE FINAN»öE PUBLICE - Toate cele 57 de √ÆntrebƒÉri */
    const questions = [
      {
        question: "Cheltuielile publice definitive:",
        answers: ["a) includ numai cheltuielile curente, nu »ôi pe cele de transfer", "b) sunt cuprinse ca posturi distincte √Æn bugetele publice", "c) includ numai cheltuielile reale", "d) includ numai cheltuielile reale (negative), nu »ôi pe cele economice (pozitive)"],
        correct: [1] 
      },
      {
        question: "√én calculul elasticitƒÉ»õii cheltuielilor publice √Æn raport cu produsul intern brut nu intervin:",
        answers: ["a) volumul cheltuielilor publice exprimat √Æn pre»õuri curente", "b) deflatorul produsului intern brut", "c) produsul intern brut exprimat la paritatea puterii de cumpƒÉrare", "d) volumul cheltuielilor publice exprimat √Æn pre»õuri constante"],
        correct: [1, 2, 3] // Se folosesc mƒÉrimile nominale (curente) de obicei
      },
      {
        question: "MƒÉrimea costurilor luate √Æn calcul, √Æn aplicarea 'analizei cost-avantaje', cuprinde:",
        answers: ["a) cheltuielile cu plata salariilor personalului angajat", "b) cheltuielile cu achizi»õionarea-montarea utilajelor", "c) pierderile de venit antrenate de realizarea obiectivului (cost de oportunitate)", "d) cheltuielile cu amortizarea capitalului fix", "e) plƒÉ»õile privind impozitul pe profit"],
        correct: [0, 1, 2, 3] // Amortizarea »ôi impozitul nu se includ √Æn cost-benefit social
      },
      {
        question: "Politica fiscalƒÉ are ca obiective:",
        answers: ["a) stabilirea destina»õiilor »ôi alocarea resurselor financiare publice", "b) finan»õarea deficitului bugetar", "c) stabilirea »ôi perceperea impozitelor »ôi taxelor", "d) asigurarea echilibrului monetar"],
        correct: [0, 2]
      },
      {
        question: "Cheltuielile publice bugetare pentru dezvoltarea sectorului economic de stat vizeazƒÉ:",
        answers: ["a) plƒÉ»õi de dob√¢nzi »ôi anuitƒÉ»õi aferente datoriilor contractate", "b) crearea de √Æntreprinderi de stat", "c) cre»ôterea consumului de bunuri »ôi servicii publice", "d) func»õiei de reglare (stabilizare)", "e) func»õiei de control"],
        correct: [0, 1]
      },
      {
        question: "Criteriul momentului √Æn care se efectueazƒÉ cheltuielile publice »ôi modul √Æn care acestea afecteazƒÉ resursele financiare publice este specific:",
        answers: ["a) clasifica»õiei func»õionale", "b) clasifica»õiei economice", "c) clasifica»õiei financiare", "d) clasifica»õiei administrativ-departamentale"],
        correct: [2] // DefinitivƒÉ, temporarƒÉ, virtualƒÉ
      },
      {
        question: "Care dintre urmƒÉtoarele afirma»õii privitoare la tipurile de stat »ôi impactul lor asupra finan»õelor publice sunt adevƒÉrate:",
        answers: ["a) interven»õia statului protector √Æn activitƒÉ»õile economice ar avea efecte dereglatoare", "b) implicarea directƒÉ √Æn desfƒÉ»ôurarea activitƒÉ»õilor economice este o caracteristicƒÉ a statului protector", "c) statul de tip interven»õionist nu poate fi caracterizat ca un stat redistribuitor al resurselor", "d) manifestarea tipului de stat interven»õionist implicƒÉ o sferƒÉ mai restr√¢nsƒÉ de manifestare a finan»õelor publice √Æn raport cu tipul de stat protector"],
        correct: [0] // Statul protector (jandarm) crede cƒÉ interven»õia e dereglatoare
      },
      {
        question: "√én conceperea »ôi promovarea unui sistem fiscal modern trebuie evitate:",
        answers: ["a) repartizarea inegalƒÉ a sarcinii fiscale √Æntre contribuabili", "b) apelul la emisiunea de monedƒÉ pentru finan»õarea de cheltuieli publice peste veniturile obi»ônuite", "c) apelul la √Æmprumuturi de stat pentru finan»õarea deficitului bugetar", "d) progresivitatea accentuatƒÉ a cotelor de impozit"],
        correct: [0, 3]
      },
      {
        question: "Cheltuielile publice bugetare pentru culturƒÉ, artƒÉ »ôi sport:",
        answers: ["a) reprezintƒÉ investi»õii √Æn resursele umane", "b) au caracter productiv direct »ôi integral", "c) pot fi recuperate par»õial pe seama rezultatelor acestor activitƒÉ»õi", "d) pot avea ca finalitate bunuri materiale sau diverse servicii"],
        correct: [0, 2, 3]
      },
      {
        question: "Cheltuielile publice bugetare cu plata ajutorului de »ôomaj se √ÆncadreazƒÉ √Æn categoria:",
        answers: ["a) cheltuielilor de transfer conform clasifica»õiei economice", "b) cheltuielilor curente conform clasifica»õiei economice", "c) cheltuielilor definitive conform clasifica»õiei financiare", "d) cheltuielilor virtuale conform clasifica»õiei financiare", "e) cheltuielilor temporare conform clasifica»õiei financiare"],
        correct: [0, 1, 2]
      },
      {
        question: "√én concep»õia lui Keynes la o cre»ôtere a veniturilor indivizii vor reac»õiona prin:",
        answers: ["a) cre»ôterea √Ænclina»õiei marginale spre consum", "b) cre»ôterea √Ænclina»õiei marginale spre economisire", "c) reducerea consumului", "d) economisirea unei pƒÉr»õi din sporul de venit"],
        correct: [1, 3]
      },
      {
        question: "Care dintre urmƒÉtoarele afirma»õii cu privire la cheltuielile pentru servicii publice generale sunt adevƒÉrate:",
        answers: ["a) √Æn structura acestora se regƒÉsesc cheltuielile publice ale organelor puterii judecƒÉtore»ôti", "b) au un caracter divizibil", "c) se particularizeazƒÉ prin faptul cƒÉ √Æn cadrul lor cheltuielile curente de»õin o pondere neglijabilƒÉ", "d) sunt acoperite √Æn principal pe seama fondurilor cu destina»õie specialƒÉ"],
        correct: [0] // Sunt indivizibile, cheltuielile curente (salarii) sunt mari
      },
      {
        question: "Ca efecte economice ale finan»õƒÉrii cheltuielilor publice pentru ocrotirea sƒÉnƒÉtƒÉ»õii sunt considerate:",
        answers: ["a) cre»ôterea perioadei active a vie»õii", "b) eradicarea unor boli profesionale", "c) cre»ôterea speran»õei medii de via»õƒÉ la na»ôtere", "d) refacerea »ôi pƒÉstrarea sƒÉnƒÉtƒÉ»õii persoanelor"],
        correct: [0, 1] // Celelalte sunt sociale
      },
      {
        question: "Care dintre urmƒÉtoarele afirma»õii cu privire la politica fiscalƒÉ sunt adevƒÉrate:",
        answers: ["a) politica fiscalƒÉ trebuie conceputƒÉ lu√¢nd √Æn considerare numai destina»õiile date resurselor fiscale", "b) √Æn accep»õiune restrictivƒÉ, politica fiscalƒÉ vizeazƒÉ numai procurarea resurselor fiscale", "c) politica fiscalƒÉ este condi»õionatƒÉ de mediul economic (starea economiei, nivelul veniturilor)", "d) politica fiscalƒÉ poate fi elaboratƒÉ numai de cƒÉtre stat sau autoritƒÉ»õi publice locale"],
        correct: [1, 2, 3]
      },
      {
        question: "√én calculul investi»õiei specifice, ca indicator de apreciere a eficien»õei cheltuielilor publice pentru ac»õiuni economice sunt necesare:",
        answers: ["a) volumul produc»õiei realizabile", "b) investi»õia totalƒÉ (de realizat)", "c) rata de actualizare", "d) durata √Æn ani a perioadei de execu»õie a investi»õiei", "e) investi»õia de efectuat anual"],
        correct: [0, 1] 
      },
      {
        question: "La care din urmƒÉtorii indicatori un nivel c√¢t mai ridicat exprimƒÉ o eficien»õƒÉ economicƒÉ mai mare:",
        answers: ["a) investi»õia specificƒÉ", "b) termenul de recuperare a investi»õiei", "c) rata de actualizare", "d) efectul (negativ al) imobilizƒÉrii fondurilor financiare investite", "e) profitul actualizat", "f) venitul net actualizat"],
        correct: [4, 5]
      },
      {
        question: "Sistemul german (Bismarck) de finan»õare a sƒÉnƒÉtƒÉ»õii se caracterizeazƒÉ prin:",
        answers: ["a) finan»õarea integralƒÉ de cƒÉtre stat a ocrotirii sƒÉnƒÉtƒÉ»õii", "b) finan»õarea din bugetul de stat a programelor publice de prevenire a √ÆmbolnƒÉvirilor", "c) apari»õia unui ter»õ plƒÉtitor √Æntre prestatorii de servicii medicale »ôi beneficiarii acestora", "d) plata unor cotiza»õii corelate cu riscul personal de √ÆmbolnƒÉvire de cƒÉtre angaja»õi »ôi angajatori"],
        correct: [1, 2]
      },
      {
        question: "√én concep»õia lui Paul Samuelson asupra rolului cheltuielilor publice:",
        answers: ["a) la o cre»ôtere a venitului, consumul unui individ va cre»ôte √Æn aceea»ôi mƒÉsurƒÉ", "b) cheltuielile publice reprezintƒÉ un stabilizator √Æncorporat √Æn mecanismul sistemelor economice", "c) cheltuielile publice pentru investi»õii antreneazƒÉ un efect multiplicator important asupra activitƒÉ»õilor economice", "d) cheltuielile publice sunt considerate ca mai pu»õin eficiente sau chiar inacceptabile √Æn sus»õinerea cre»ôterii economice echilibrate"],
        correct: [1, 2] // De»ôi Samuelson e cu bunurile publice, √Æn contextul grilelor vechi se referƒÉ adesea la rolul economic activ
      },
      {
        question: "Ca indicatori sintetici pentru caracterizarea dinamicii cheltuielilor publice se pot utiliza:",
        answers: ["a) ponderea cheltuielilor publice √Æn produsul intern brut", "b) coeficientul de elasticitate a cheltuielilor publice √Æn raport cu produsul intern brut", "c) cheltuielile publice medii pe locuitor √Æn dolari SUA", "d) modificarea absolutƒÉ realƒÉ a cheltuielilor publice", "e) ponderea diferitelor categorii de cheltuieli publice √Æn total cheltuieli publice"],
        correct: [1, 3] // Dinamica = modificare √Æn timp
      },
      {
        question: "At√¢t √Æn politica bugetarƒÉ, c√¢t »ôi √Æn politica fiscalƒÉ, sunt reflectate deciziile ce vizeazƒÉ:",
        answers: ["a) sistemul de impunere a veniturilor realizate de persoane fizice", "b) apelul la resurse √Æmprumutate pentru finan»õarea deficitului bugetar", "c) modalitƒÉ»õile de efectuare a cheltuielilor publice", "d) op»õiuni asupra evolu»õiei ofertei de monedƒÉ"],
        correct: [0] // Impozitele sunt elementul comun principal
      },
      {
        question: "Controlul ulterior, ca una din formele sub care se manifestƒÉ controlul financiar, se particularizeazƒÉ prin:",
        answers: ["a) este cea mai eficientƒÉ formƒÉ de control financiar", "b) nu poate avea ca obiectiv dec√¢t eficien»õa opera»õiunilor, acestea fiind deja finalizate", "c) permite corectarea »ôi √ÆmbunƒÉtƒÉ»õirea post-operativƒÉ a solu»õiilor aplicabile pentru √ÆnfƒÉptuirea procesului", "d) permite evitarea ini»õierii unor opera»õiuni ineficiente »ôi evitarea pierderilor aferente lor"],
        correct: [2]
      },
      {
        question: "La care din urmƒÉtoarele categorii de cheltuieli publice, printre sursele de finan»õare se regƒÉsesc »ôi contribu»õii ale beneficiarilor serviciilor respective:",
        answers: ["a) cheltuieli publice cu acordarea de subven»õii", "b) cheltuieli publice pentru √ÆnvƒÉ»õƒÉm√¢nt", "c) cheltuieli publice pentru apƒÉrarea na»õionalƒÉ", "d) cheltuieli publice pentru culturƒÉ, artƒÉ, sport"],
        correct: [1, 3] // Taxe »ôcolare, bilete
      },
      {
        question: "MƒÉrimea subven»õiei acordate exportatorilor poate acoperi, √Æn principiu, diferen»õa √Æntre:",
        answers: ["a) pre»õul cel mai redus pe pia»õa internƒÉ »ôi cel mai scƒÉzut pe pia»õa externƒÉ", "b) pre»õul garantat de stat »ôi pre»õul de v√¢nzare (transformat)", "c) pre»õul cel mai ridicat pe pia»õa internƒÉ »ôi cel mai scƒÉzut pe pia»õa externƒÉ", "d) pre»õurile medii obtenabile pe cele douƒÉ pie»õe"],
        correct: [1, 2] // Diferen»õa de pre»õ intern mare vs extern mic
      },
      {
        question: "√éntre cheltuielile de func»õionare efectuate pentru √ÆnvƒÉ»õƒÉm√¢nt se √ÆncadreazƒÉ:",
        answers: ["a) cheltuielile cu salariile personalului didactic »ôi auxiliar", "b) cheltuielile cu achizi»õia de materiale de laborator", "c) cheltuielile cu bursele acordate studen»õilor", "d) cheltuielile cu achizi»õia de echipamente de laborator"],
        correct: [0, 1] // Echipamentele sunt investi»õii (capital)
      },
      {
        question: "Printre factorii demografici de influen»õƒÉ asupra evolu»õiei cheltuielilor publice, se numƒÉrƒÉ:",
        answers: ["a) preocuparea statului pentru o mai bunƒÉ repartizare a veniturilor √Æn societate", "b) modificƒÉrile structurale ale popula»õiei pe v√¢rste, categorii socio-profesionale", "c) cre»ôterea duratei medii de via»õƒÉ", "d) acordarea de sprijin material unor categorii sociale defavorizate"],
        correct: [1, 2]
      },
      {
        question: "Av√¢nd √Æn vedere natura ac»õiunilor finan»õate, cheltuielile publice se structureazƒÉ √Æn:",
        answers: ["a) cheltuieli curente »ôi de capital", "b) ordinare »ôi extraordinare", "c) cheltuieli definitive, temporare »ôi virtuale", "d) cheltuieli pentru prestarea serviciilor publice »ôi cheltuieli de transfer"],
        correct: [3] 
      },
      {
        question: "√én sens economic, conceptul de cheltuialƒÉ publicƒÉ exprimƒÉ:",
        answers: ["a) oferta de utilitƒÉ»õi publice", "b) plƒÉ»õi legate de func»õionarea institu»õiilor publice", "c) procese economice de consum public de resurse", "d) procese »ôi rela»õii economice de redistribuire financiarƒÉ a produsului intern brut"],
        correct: [0, 2, 3]
      },
      {
        question: "√én calculul elasticitƒÉ»õii cheltuielilor publice √Æn raport cu produsul intern brut nu intervin:",
        answers: ["a) volumul cheltuielilor publice exprimat √Æn pre»õuri curente", "b) volumul cheltuielilor publice exprimat √Æn pre»õuri constante", "c) deflatorul produsului intern brut", "d) produsul intern brut exprimat √Æn pre»õuri curente"],
        correct: [1, 2] // Elasticitatea se calculeazƒÉ nominal
      },
      {
        question: "Contractarea de √Æmprumuturi de cƒÉtre autoritƒÉ»õile publice reprezintƒÉ o coordonatƒÉ a:",
        answers: ["a) politicii bugetare", "b) politicii finan»õelor publice", "c) politicii financiar-monetare a autoritƒÉ»õilor publice", "d) politicii fiscale"],
        correct: [0, 2]
      },
      {
        question: "Reducerea efectului negativ al imobilizƒÉrii fondurilor √Æn cheltuieli de investi»õii se poate realiza prin:",
        answers: ["a) e»ôalonarea descrescƒÉtoare a cheltuielilor de investi»õii", "b) e»ôalonarea crescƒÉtoare a cheltuielilor de investi»õii", "c) reducerea duratei de execu»õie »ôi punere √Æn func»õiune a obiectivului", "d) cre»ôterea duratei de execu»õie »ôi punerea √Æn func»õiune a obiectivului"],
        correct: [1, 2] // Cheltui pu»õin la √Ænceput (b) »ôi termini repede (c)
      }
    ];


    let currentQ = 0;
    let totalScore = 0;
    let streak = 0;
    
    // Aici vom »õine minte ordinea amestecatƒÉ a √ÆntrebƒÉrilor
    let shuffledQuestions = [];
    
    // Aici memorƒÉm starea fiecƒÉrei √ÆntrebƒÉri (rƒÉspunsuri, ordine, punctaj)
    let quizState = []; 

    // Referin»õe UI
    const qText = document.getElementById("q-text");
    const qNum = document.getElementById("q-number");
    const answersList = document.getElementById("answers-list");
    const actionBtn = document.getElementById("action-btn");
    const learnBtn = document.getElementById("learn-btn");
    const streakEl = document.getElementById("streak-count");
    const timerBar = document.getElementById("timer-bar");
    const prevBtn = document.getElementById("prev-btn");
    const nextBtn = document.getElementById("next-btn");

    // Func»õie de amestecare (Fisher-Yates Shuffle)
    function shuffleArray(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
      return array;
    }

    function initQuiz() {
      currentQ = 0;
      totalScore = 0;
      streak = 0;
      
      // 1. Facem o copie a √ÆntrebƒÉrilor »ôi o amestecƒÉm
      shuffledQuestions = JSON.parse(JSON.stringify(questions)); // Copie ad√¢ncƒÉ
      shuffleArray(shuffledQuestions);

      // 2. ResetƒÉm memoria (state)
      quizState = new Array(shuffledQuestions.length).fill(null);
      
      updateStreakUI();
      loadQuestion();
    }

function loadQuestion() {
      // 1. Gestionare butoane navigare
      prevBtn.disabled = (currentQ === 0);
      nextBtn.disabled = (currentQ === shuffledQuestions.length - 1);

      // 2. Resetare barƒÉ timp
      timerBar.style.transition = "none";
      timerBar.style.transform = "scaleX(1)";
      setTimeout(() => {
        timerBar.style.transition = "transform 60s linear";
        timerBar.style.transform = "scaleX(0)";
      }, 100);

      // 3. Datele √éntrebƒÉrii
      const q = shuffledQuestions[currentQ];
      
      // DacƒÉ vrei sƒÉ cure»õi »ôi numƒÉrul din fa»õa √ÆntrebƒÉrii (ex: "1. √éntrebare" -> "√éntrebare")
      // folose»ôte linia asta. DacƒÉ nu, las-o pe cea simplƒÉ.
      let cleanQuestionText = q.question.replace(/^\d+[\.\)]\s*/, ''); 
      
      qNum.innerText = `√éntrebarea ${currentQ + 1} / ${shuffledQuestions.length}`;
      qText.innerText = cleanQuestionText; // Sau q.question dacƒÉ vrei sƒÉ pƒÉstrezi numƒÉrul original
      answersList.innerHTML = "";

      // 4. Gestionare Stare (Memorie)
      let currentState = quizState[currentQ];

      if (!currentState) {
        // Amestecare ini»õialƒÉ
        let answerPairs = q.answers.map((text, idx) => ({ text: text, originalIdx: idx }));
        shuffleArray(answerPairs);
        
        currentState = {
            answered: false,
            answerOrder: answerPairs,
            selectedIdx: [],
            btnText: "VERIFICƒÇ",
            btnColor: "var(--accent)"
        };
        quizState[currentQ] = currentState;
      }

      // Configurare Buton Ac»õiune
      actionBtn.innerText = currentState.btnText;
      actionBtn.style.background = currentState.btnColor;
      
      if (currentState.answered) {
          actionBtn.onclick = () => nextQuestion();
          learnBtn.style.display = "none";
      } else {
          actionBtn.onclick = handleAction;
          learnBtn.style.display = "block";
      }

      // 5. Generare HTML RƒÉspunsuri (AICI E MAGIA CU LITERELE)
      const letters = ['a', 'b', 'c', 'd', 'e', 'f', 'g']; // Literele ordonate

      currentState.answerOrder.forEach((pair, domIndex) => {
        const div = document.createElement("label");
        div.className = "answer-option";
        
        // --- AICI CURƒÇ»öƒÇM TEXTUL VECHI ---
        // Expresia regulatƒÉ »ôterge orice √Æncepe cu o literƒÉ urmatƒÉ de ) sau . »ôi spa»õiu
        // Ex: "a) Text" devine "Text" | "b. Text" devine "Text"
        let cleanText = pair.text.replace(/^[a-zA-Z0-9]+[\.\)]\s*/, '');

        // --- AICI PUNEM LITERA NOUƒÇ CORECTƒÇ ---
        // LuƒÉm litera corespunzƒÉtoare pozi»õiei actuale (0->a, 1->b...)
        let newLabel = letters[domIndex] + ") "; 

        // VerificƒÉm dacƒÉ a fost bifat
        let isChecked = currentState.selectedIdx.includes(pair.originalIdx);

        div.innerHTML = `
          <input type="checkbox" name="ans" value="${pair.originalIdx}" ${isChecked ? "checked" : ""}>
          <div class="custom-check"></div>
          <span class="ans-text"><b>${newLabel}</b>${cleanText}</span>
        `;

        // LogicƒÉ de afi»ôare (Colorare/Dezactivare) dacƒÉ e deja rƒÉspuns
        if (currentState.answered) {
            div.style.pointerEvents = "none";
            div.querySelector("input").disabled = true;
            
            const isCorrect = q.correct.includes(pair.originalIdx);
            
            if (isCorrect) div.classList.add("correct");
            if (isChecked && !isCorrect) div.classList.add("wrong");
        } else {
            div.querySelector("input").addEventListener("change", function() {
              if(this.checked) div.classList.add("selected");
              else div.classList.remove("selected");
            });
        }
        
        if (isChecked && !currentState.answered) div.classList.add("selected");

        answersList.appendChild(div);
      });
    }

    function handleAction() {
      checkAnswer();
    }

    function checkAnswer() {
      const checked = Array.from(document.querySelectorAll('input[name="ans"]:checked'));
      if (checked.length === 0) return; 

      // Ob»õinem indexurile originale (pentru cƒÉ value = originalIdx)
      const userIdx = checked.map(c => parseInt(c.value));
      const q = shuffledQuestions[currentQ];
      const correctIdx = q.correct;

      // --- CALCUL MATEMATIC ---
      let correctSelected = 0;
      let wrongSelected = 0;

      userIdx.forEach(idx => {
        if (correctIdx.includes(idx)) correctSelected++;
        else wrongSelected++;
      });

      let ratio = (correctSelected - wrongSelected) / correctIdx.length;
      if (ratio < 0) ratio = 0;

      const pointsPerQuestion = 10 / shuffledQuestions.length;
      const pointsEarned = ratio * pointsPerQuestion;
      
      totalScore += pointsEarned;

      // --- Feedback UI ---
      let btnText = "";
      let btnColor = "";

      if (ratio === 1) {
        streak++;
        btnText = "CORECT! üëè";
        btnColor = "var(--correct)";
        // Navigare automatƒÉ
        setTimeout(() => { 
            if(currentQ < shuffledQuestions.length - 1) nextQuestion(); 
        }, 1200);
      } else {
        streak = 0;
        const pts = pointsEarned.toFixed(2);
        if (ratio > 0) {
            btnText = `PAR»öIAL: +${pts}p`;
            btnColor = "var(--warning)";
        } else {
            btnText = "GRE»òIT: 0p";
            btnColor = "var(--wrong)";
        }
      }

      // --- SALVƒÇM REZULTATUL ---
      // ActualizƒÉm starea din memorie
      quizState[currentQ].answered = true;
      quizState[currentQ].selectedIdx = userIdx;
      quizState[currentQ].btnText = btnText;
      quizState[currentQ].btnColor = btnColor;

      updateStreakUI();
      
      // Re√ÆncƒÉrcƒÉm pentru a aplica stilurile de "disabled" »ôi culorile
      loadQuestion();
    }

    function triggerLearnMode() {
      // Modul √Ænva»õƒÉ: marcƒÉm ca rƒÉspuns (fƒÉrƒÉ puncte) dar arƒÉtƒÉm solu»õia
      quizState[currentQ].answered = true;
      quizState[currentQ].selectedIdx = []; // Nimic selectat
      quizState[currentQ].btnText = "MOD √éNVƒÇ»öARE";
      quizState[currentQ].btnColor = "var(--accent)";
      
      streak = 0;
      updateStreakUI();
      loadQuestion();
    }

    // --- NAVIGARE ---
    function prevQuestion() {
      if (currentQ > 0) {
        currentQ--;
        loadQuestion();
      }
    }

    function nextQuestion() {
      if (currentQ < shuffledQuestions.length - 1) {
        currentQ++;
        loadQuestion();
      } else {
        showResults();
      }
    }

    function showResults() {
      const container = document.getElementById("quiz-container");
      const finalGrade = totalScore.toFixed(2);
      
      if(totalScore >= 5) fireConfetti();
      let msg = "";
      if (totalScore >= 10) msg = "I-ai dat fatala vere!!";
      else if (totalScore >= 9) msg = "L-ai fƒÉcut vere pe zugri! üëè";
      else if (totalScore >= 7) msg = "E de la tine üëç";
      else if (totalScore >= 5) msg = "Ai avut noroc! üëç";
      else msg = "SLAB RƒÇU! üìâ";

      container.innerHTML = `
        <div class="result-view">
          <div class="score-circle">
            <span style="z-index:2; color:white; font-size: 2.5rem;">${finalGrade}</span>
          </div>
          <h1 style="margin:0;">${msg}</h1>
          <p style="color:var(--text-muted); font-size:1.2rem; margin-top:10px;">
            Nota finalƒÉ: ${finalGrade} din 10
          </p>
          <div class="controls" style="margin-top:40px;">
             <button class="btn btn-secondary" onclick="location.href='index.html'">Meniu</button>
             <button class="btn btn-primary" onclick="location.reload()">Din Nou</button>
          </div>
        </div>
      `;
    }

    function updateStreakUI() {
      streakEl.innerText = streak;
      if(streak > 2) streakEl.parentElement.style.background = "rgba(255, 255, 255, 0.3)";
      else streakEl.parentElement.style.background = "rgba(255, 255, 255, 0.1)";
    }

    function fireConfetti() {
      const colors = ['#10b981', '#34d399', '#f59e0b', '#ffffff'];
      for (let i = 0; i < 50; i++) {
        const conf = document.createElement('div');
        conf.className = 'confetti';
        conf.style.left = Math.random() * 100 + 'vw';
        conf.style.top = -10 + 'px';
        conf.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
        conf.style.animationDuration = (Math.random() * 3 + 2) + 's';
        document.body.appendChild(conf);
      }
    }

    // Pornire automatƒÉ la √ÆncƒÉrcarea paginii
    initQuiz();
  </script>
</body>
</html>